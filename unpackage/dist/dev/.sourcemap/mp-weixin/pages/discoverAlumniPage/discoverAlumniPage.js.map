{"version":3,"file":"discoverAlumniPage.js","sources":["pages/discoverAlumniPage/discoverAlumniPage.js","pages/discoverAlumniPage/discoverAlumniPage.vue","../../../apps/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvZGlzY292ZXJBbHVtbmlQYWdlL2Rpc2NvdmVyQWx1bW5pUGFnZS52dWU"],"sourcesContent":["// discoverAlumniPage.js\r\n// 这个文件主要用于处理\"发现校友\"页面的额外逻辑，可以按需扩展\r\n\r\n// 模拟学院数据\r\nexport const departmentList = [\r\n    { code: '01', name: '计算机学院' },\r\n    { code: '02', name: '电子工程学院' },\r\n    { code: '03', name: '机械工程学院' },\r\n    { code: '04', name: '经济管理学院' },\r\n    { code: '05', name: '医学院' },\r\n    { code: '06', name: '法学院' },\r\n    { code: '07', name: '文学院' },\r\n    { code: '08', name: '外国语学院' },\r\n    { code: '09', name: '数学学院' },\r\n    { code: '10', name: '物理学院' }\r\n];\r\n\r\n// 模拟入学类型数据\r\nexport const schoolTypeList = [\r\n    { code: '01', name: '本科生' },\r\n    { code: '02', name: '硕士研究生' },\r\n    { code: '03', name: '博士研究生' },\r\n    { code: '04', name: '教职工' },\r\n    { code: '05', name: '校友' }\r\n];\r\n\r\n// 模拟行业数据\r\nexport const industryList = [\r\n    { code: '01', name: '信息技术' },\r\n    { code: '02', name: '金融' },\r\n    { code: '03', name: '教育' },\r\n    { code: '04', name: '医疗健康' },\r\n    { code: '05', name: '制造业' },\r\n    { code: '06', name: '互联网' },\r\n    { code: '07', name: '文化创意' },\r\n    { code: '08', name: '法律' },\r\n    { code: '09', name: '公共服务' },\r\n    { code: '10', name: '其他' }\r\n];\r\n\r\n// 模拟搜索结果数据\r\nexport const mockSearchResults = {\r\n    total: 5,\r\n    list: [\r\n        {\r\n            id: '001',\r\n            name: '张三',\r\n            avatar: '/static/images/avatar/avatar1.png',\r\n            department: '计算机学院',\r\n            enrollYear: '2015',\r\n            residence: '北京市海淀区',\r\n            industry: '互联网',\r\n            company: '腾讯科技',\r\n            distance: '2.5公里'\r\n        },\r\n        {\r\n            id: '002',\r\n            name: '李四',\r\n            avatar: '/static/images/avatar/avatar2.png',\r\n            department: '经济管理学院',\r\n            enrollYear: '2016',\r\n            residence: '上海市浦东新区',\r\n            industry: '金融',\r\n            company: '中国银行',\r\n            distance: '4.8公里'\r\n        },\r\n        {\r\n            id: '003',\r\n            name: '王五',\r\n            avatar: '/static/images/avatar/avatar3.png',\r\n            department: '法学院',\r\n            enrollYear: '2017',\r\n            residence: '广州市天河区',\r\n            industry: '法律',\r\n            company: '广东正大律师事务所',\r\n            distance: '12.3公里'\r\n        },\r\n        {\r\n            id: '004',\r\n            name: '赵六',\r\n            avatar: '/static/images/avatar/avatar4.png',\r\n            department: '医学院',\r\n            enrollYear: '2014',\r\n            residence: '深圳市南山区',\r\n            industry: '医疗健康',\r\n            company: '深圳市第一人民医院',\r\n            distance: '18.6公里'\r\n        },\r\n        {\r\n            id: '005',\r\n            name: '钱七',\r\n            avatar: '/static/images/avatar/avatar5.png',\r\n            department: '外国语学院',\r\n            enrollYear: '2016',\r\n            residence: '杭州市西湖区',\r\n            industry: '教育',\r\n            company: '杭州外国语学校',\r\n            distance: '25.1公里'\r\n        }\r\n    ]\r\n};\r\n\r\n// 模拟同学数据\r\nexport const mockClassmatesData = {\r\n    total: 9,\r\n    list: [\r\n        {\r\n            id: '101',\r\n            name: '陈一',\r\n            avatar: '/static/images/avatar/avatar6.png',\r\n            department: '计算机学院',\r\n            enrollYear: '2018',\r\n            specialty: '软件工程'\r\n        },\r\n        {\r\n            id: '102',\r\n            name: '林二',\r\n            avatar: '/static/images/avatar/avatar7.png',\r\n            department: '计算机学院',\r\n            enrollYear: '2018',\r\n            specialty: '人工智能'\r\n        },\r\n        {\r\n            id: '103',\r\n            name: '黄三',\r\n            avatar: '/static/images/avatar/avatar8.png',\r\n            department: '计算机学院',\r\n            enrollYear: '2018',\r\n            specialty: '网络工程'\r\n        },\r\n        {\r\n            id: '104',\r\n            name: '杨四',\r\n            avatar: '/static/images/avatar/avatar9.png',\r\n            department: '计算机学院',\r\n            enrollYear: '2018',\r\n            specialty: '信息安全'\r\n        },\r\n        {\r\n            id: '105',\r\n            name: '周五',\r\n            avatar: '/static/images/avatar/avatar10.png',\r\n            department: '计算机学院',\r\n            enrollYear: '2018',\r\n            specialty: '数据科学'\r\n        },\r\n        {\r\n            id: '106',\r\n            name: '吴六',\r\n            avatar: '/static/images/avatar/avatar11.png',\r\n            department: '计算机学院',\r\n            enrollYear: '2018',\r\n            specialty: '软件工程'\r\n        },\r\n        {\r\n            id: '107',\r\n            name: '郑七',\r\n            avatar: '/static/images/avatar/avatar12.png',\r\n            department: '计算机学院',\r\n            enrollYear: '2018',\r\n            specialty: '人工智能'\r\n        },\r\n        {\r\n            id: '108',\r\n            name: '冯八',\r\n            avatar: '/static/images/avatar/avatar13.png',\r\n            department: '计算机学院',\r\n            enrollYear: '2018',\r\n            specialty: '网络工程'\r\n        },\r\n        {\r\n            id: '109',\r\n            name: '朱九',\r\n            avatar: '/static/images/avatar/avatar14.png',\r\n            department: '计算机学院',\r\n            enrollYear: '2018',\r\n            specialty: '信息安全'\r\n        }\r\n    ]\r\n};\r\n\r\n// 处理校友搜索请求\r\nexport const searchAlumni = (params) => {\r\n    return new Promise((resolve, reject) => {\r\n        // 在实际开发中，这里应该是API请求\r\n        // 模拟异步请求\r\n        setTimeout(() => {\r\n            // 模拟校友数据\r\n            const mockData = mockSearchResults;\r\n            \r\n            resolve(mockData);\r\n        }, 1500);\r\n    });\r\n};\r\n\r\n// 获取用户位置\r\nexport const getUserLocation = () => {\r\n    return new Promise((resolve, reject) => {\r\n        uni.getLocation({\r\n            type: 'gcj02',\r\n            success: (res) => {\r\n                resolve({\r\n                    latitude: res.latitude,\r\n                    longitude: res.longitude\r\n                });\r\n            },\r\n            fail: (err) => {\r\n                reject(err);\r\n            }\r\n        });\r\n    });\r\n};\r\n\r\n// 存储搜索历史\r\nexport const saveSearchHistory = (searchParams) => {\r\n    try {\r\n        // 获取现有历史\r\n        const history = uni.getStorageSync('alumni_search_history') || [];\r\n        \r\n        // 添加新记录（实际应用中可能需要去重处理）\r\n        history.unshift({\r\n            id: Date.now(),\r\n            params: searchParams,\r\n            time: new Date().toISOString()\r\n        });\r\n        \r\n        // 仅保留最近10条记录\r\n        const newHistory = history.slice(0, 10);\r\n        \r\n        // 保存回存储\r\n        uni.setStorageSync('alumni_search_history', newHistory);\r\n        \r\n        return true;\r\n    } catch (e) {\r\n        console.error('保存搜索历史失败', e);\r\n        return false;\r\n    }\r\n};\r\n\r\n// 格式化入校类型数据 - 修正为字符串数组或对象数组\r\nexport const formatSchoolTypeData = () => {\r\n    // 方式1：使用简单的字符串数组（推荐，更简单的处理方式）\r\n    return schoolTypeList.map(item => item.name);\r\n    \r\n    // 方式2：如果需要对象数组格式\r\n    // return schoolTypeList.map(item => {\r\n    //     return { text: item.name, value: item.code };\r\n    // });\r\n};\r\n\r\n// 格式化院系数据\r\nexport const formatDepartmentData = () => {\r\n    const years = ['全部'].concat(['2023', '2022', '2021', '2020', '2019', '2018', '2017', '2016']);\r\n    const departments = ['全部'].concat(departmentList.map(item => item.name));\r\n    \r\n    return [years, departments];\r\n};\r\n\r\n// 格式化居住地数据（三级联动）\r\nexport const formatResidenceData = () => {\r\n    // 这里简化处理，实际开发中需要使用完整的地区数据\r\n    return [\r\n        {\r\n            text: '中国',\r\n            value: 'china',\r\n            children: [\r\n                {\r\n                    text: '北京市',\r\n                    value: 'beijing',\r\n                    children: [\r\n                        { text: '海淀区', value: 'haidian' },\r\n                        { text: '朝阳区', value: 'chaoyang' },\r\n                        { text: '西城区', value: 'xicheng' }\r\n                    ]\r\n                },\r\n                {\r\n                    text: '上海市',\r\n                    value: 'shanghai',\r\n                    children: [\r\n                        { text: '浦东新区', value: 'pudong' },\r\n                        { text: '徐汇区', value: 'xuhui' },\r\n                        { text: '黄浦区', value: 'huangpu' }\r\n                    ]\r\n                },\r\n                {\r\n                    text: '广东省',\r\n                    value: 'guangdong',\r\n                    children: [\r\n                        { text: '广州市', value: 'guangzhou' },\r\n                        { text: '深圳市', value: 'shenzhen' },\r\n                        { text: '珠海市', value: 'zhuhai' }\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            text: '美国',\r\n            value: 'usa',\r\n            children: [\r\n                {\r\n                    text: '加利福尼亚州',\r\n                    value: 'california',\r\n                    children: [\r\n                        { text: '洛杉矶', value: 'la' },\r\n                        { text: '旧金山', value: 'sf' },\r\n                        { text: '圣地亚哥', value: 'sd' }\r\n                    ]\r\n                },\r\n                {\r\n                    text: '纽约州',\r\n                    value: 'newyork',\r\n                    children: [\r\n                        { text: '纽约市', value: 'nyc' },\r\n                        { text: '布法罗', value: 'buffalo' },\r\n                        { text: '罗切斯特', value: 'rochester' }\r\n                    ]\r\n                }\r\n            ]\r\n        }\r\n    ];\r\n};\r\n\r\n// 格式化行业数据 - 修正为字符串数组或对象数组\r\nexport const formatIndustryData = () => {\r\n    // 方式1：使用简单的字符串数组（推荐，更简单的处理方式）\r\n    return industryList.map(item => item.name);\r\n    \r\n    // 方式2：如果需要对象数组格式\r\n    // return industryList.map(item => {\r\n    //     return { text: item.name, value: item.code };\r\n    // });\r\n};\r\n","<template>\r\n\t<view class=\"page-container\">\r\n\t\t<!-- 自定义导航栏 -->\r\n\t\t<fui-nav-bar \r\n\t\t\ttitle=\"发现校友\" \r\n\t\t\tbackground=\"#F0F4F8\" \r\n\t\t\tcolor=\"#333333\" \r\n\t\t\tfontWeight=\"bold\" \r\n\t\t\t:splitLine=\"true\" \r\n\t\t\t:isFixed=\"true\"\r\n\t\t\t:isOccupy=\"true\"\r\n\t\t\t@leftClick=\"goBack\">\r\n\t\t\t<fui-icon name=\"arrowleft\" :color=\"'#333'\" :size=\"36\"></fui-icon>\r\n\t\t\t<template v-slot:right>\r\n\t\t\t\t<!-- 右侧可以添加其他功能图标，如有需要 -->\r\n\t\t\t</template>\r\n\t\t</fui-nav-bar>\r\n\t\t\r\n\t\t<!-- 内容区域 -->\r\n\t\t<view class=\"content-container\">\r\n\t\t\t<!-- Tab切换区域 -->\r\n\t\t\t<view class=\"tab-container\">\r\n\t\t\t\t<view class=\"tab-item\" :class=\"currentTab === 'search' ? 'tab-active' : ''\" @tap=\"switchTab('search')\">\r\n\t\t\t\t\t<text class=\"tab-text\">搜索</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tab-item\" :class=\"currentTab === 'classmates' ? 'tab-active' : ''\" @tap=\"switchTab('classmates')\">\r\n\t\t\t\t\t<text class=\"tab-text\">同学</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 搜索分类内容 -->\r\n\t\t\t<view v-if=\"currentTab === 'search'\">\r\n\t\t\t\t<!-- 筛选表单区域 -->\r\n\t\t\t\t<view class=\"filter-form\">\r\n\t\t\t\t\t<!-- 姓名 -->\r\n\t\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t\t<view class=\"label\">姓名：</view>\r\n\t\t\t\t\t\t<input class=\"input\" type=\"text\" placeholder=\"选填\" v-model=\"form.name\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- 入校类型 -->\r\n\t\t\t\t\t<view class=\"form-item\" @tap=\"showPicker('schoolType')\">\r\n\t\t\t\t\t\t<view class=\"label\">入校类型：</view>\r\n\t\t\t\t\t\t<view class=\"value\">{{ form.schoolTypeDesc || '不限' }}</view>\r\n\t\t\t\t\t\t<fui-icon name=\"right\" :size=\"32\"></fui-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- 入校院系 -->\r\n\t\t\t\t\t<view class=\"form-item\" @tap=\"showPicker('department')\">\r\n\t\t\t\t\t\t<view class=\"label\">入校院系：</view>\r\n\t\t\t\t\t\t<view class=\"value\">{{ form.departmentDesc || '不限年份，不限院系' }}</view>\r\n\t\t\t\t\t\t<fui-icon name=\"right\" :size=\"32\"></fui-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- 居住地 -->\r\n\t\t\t\t\t<view class=\"form-item\" @tap=\"showPicker('residence')\">\r\n\t\t\t\t\t\t<view class=\"label\">居住地：</view>\r\n\t\t\t\t\t\t<view class=\"value\">{{ form.residenceDesc || '选填 一级：大洲/国家/省/市/地' }}</view>\r\n\t\t\t\t\t\t<fui-icon name=\"right\" :size=\"32\"></fui-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- 行业 -->\r\n\t\t\t\t\t<view class=\"form-item\" @tap=\"showPicker('industry')\">\r\n\t\t\t\t\t\t<view class=\"label\">行业：</view>\r\n\t\t\t\t\t\t<view class=\"value\">{{ form.industryDesc || '不限' }}</view>\r\n\t\t\t\t\t\t<fui-icon name=\"right\" :size=\"32\"></fui-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- 单位 -->\r\n\t\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t\t<view class=\"label\">单位：</view>\r\n\t\t\t\t\t\t<input class=\"input\" type=\"text\" placeholder=\"选填\" v-model=\"form.company\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 按距离排序 -->\r\n\t\t\t\t<view class=\"distance-sort\">\r\n\t\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t\t<view class=\"label\">按距离排序：</view>\r\n\t\t\t\t\t\t<view class=\"value\"></view>\r\n\t\t\t\t\t\t<view class=\"switch-container\">\r\n\t\t\t\t\t\t\t<fui-switch \r\n\t\t\t\t\t\t\t\t:checked=\"form.sortByDistance\" \r\n\t\t\t\t\t\t\t\t@change=\"toggleSortByDistance\"\r\n\t\t\t\t\t\t\t\tcolor=\"#004299\"\r\n\t\t\t\t\t\t\t\tbackground=\"#f1f1f1\"\r\n\t\t\t\t\t\t\t\t:scaleRatio=\"0.9\">\r\n\t\t\t\t\t\t\t</fui-switch>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"sort-tip\" v-if=\"!form.sortByDistance\">\r\n\t\t\t\t\t\t<view class=\"tip-content\">\r\n\t\t\t\t\t\t\t<text>开启按距离排序，获取附近校友信息</text>\r\n\t\t\t\t\t\t\t<view class=\"enable-btn\" @tap=\"enableLocationSort\">启用</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 查找按钮 -->\r\n\t\t\t\t<view class=\"search-btn-container\">\r\n\t\t\t\t\t<view class=\"search-btn\" @tap=\"searchAlumni\">查找</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 搜索结果区域 -->\r\n\t\t\t\t<view v-if=\"searchState !== 'initial'\">\r\n\t\t\t\t\t<!-- 搜索中状态 -->\r\n\t\t\t\t\t<view v-if=\"searchState === 'loading'\" style=\"text-align: center; padding: 40rpx 0;\">\r\n\t\t\t\t\t\t<fui-loading type=\"col\" text=\"搜索中...\"></fui-loading>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- 无结果状态 -->\r\n\t\t\t\t\t<view v-else-if=\"searchState === 'noResult'\" class=\"search-results\">\r\n\t\t\t\t\t\t<view class=\"no-result\">\r\n\t\t\t\t\t\t\t<view class=\"no-result-icon\">\r\n\t\t\t\t\t\t\t\t<fui-icon name=\"search\" :size=\"80\"></fui-icon>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"no-result-text\">未找到匹配的校友，请尝试修改筛选条件</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- 有结果状态 -->\r\n\t\t\t\t\t<view v-else-if=\"searchState === 'hasResult'\" class=\"search-results\">\r\n\t\t\t\t\t\t<view v-for=\"(item, index) in searchResults.list\" :key=\"item.id\" class=\"result-item\">\r\n\t\t\t\t\t\t\t<image class=\"avatar\" :src=\"item.avatar\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t\t\t\t<view class=\"name-row\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"name\">{{item.name}}</text>\r\n\t\t\t\t\t\t\t\t\t<text v-if=\"form.sortByDistance\" class=\"distance\">{{item.distance}}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"detail-row\">{{item.enrollYear}}级 {{item.department}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"detail-row\">{{item.industry}} | {{item.company}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"detail-row\">现居住地: {{item.residence}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"action-row\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"add-btn\" @tap=\"addFriend(item.id)\">添加</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 同学分类内容 -->\r\n\t\t\t<view v-else-if=\"currentTab === 'classmates'\">\r\n\t\t\t\t<view class=\"classmates-container\">\r\n\t\t\t\t\t<view class=\"classmates-title\">我的同学</view>\r\n\t\t\t\t\t<view class=\"classmates-list\">\r\n\t\t\t\t\t\t<view v-for=\"(item, index) in classmatesData.list\" :key=\"item.id\" class=\"classmate-item\">\r\n\t\t\t\t\t\t\t<image class=\"classmate-avatar\" :src=\"item.avatar\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t<text class=\"classmate-name\">{{item.name}}</text>\r\n\t\t\t\t\t\t\t<text class=\"classmate-info\">{{item.enrollYear}}级 {{item.specialty}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 底部浮动收藏图标 -->\r\n\t\t<view class=\"float-star\" :class=\"{'star-active': isStarAnimating}\" @tap=\"toggleFavorite\">\r\n\t\t\t<fui-icon name=\"star\" :color=\"isFavorite ? '#FFCC00' : '#C0C0C0'\" :size=\"50\"></fui-icon>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- First UI Picker 组件 -->\r\n\t\t<!-- 入校类型选择器 -->\r\n\t\t<fui-picker \r\n\t\t\t:options=\"pickerOptions.schoolType\" \r\n\t\t\t:show=\"pickerShow.schoolType\" \r\n\t\t\t:title=\"'选择入校类型'\" \r\n\t\t\tconfirmColor=\"#004299\" \r\n\t\t\t:value=\"schoolTypeIndex\"\r\n\t\t\t@change=\"onSchoolTypeChange\"\r\n\t\t\t@cancel=\"()=>closePicker('schoolType')\">\r\n\t\t</fui-picker>\r\n\t\t\r\n\t\t<!-- 入校院系选择器 -->\r\n\t\t<fui-picker \r\n\t\t\t:layer=\"2\" \r\n\t\t\t:options=\"pickerOptions.department\" \r\n\t\t\t:show=\"pickerShow.department\" \r\n\t\t\t:title=\"'选择入校院系'\" \r\n\t\t\tconfirmColor=\"#004299\"\r\n\t\t\t:value=\"departmentIndex\"\r\n\t\t\t@change=\"onDepartmentChange\"\r\n\t\t\t@cancel=\"()=>closePicker('department')\">\r\n\t\t</fui-picker>\r\n\t\t\r\n\t\t<!-- 居住地选择器 -->\r\n\t\t<fui-picker \r\n\t\t\t:linkage=\"true\" \r\n\t\t\t:layer=\"3\" \r\n\t\t\t:options=\"pickerOptions.residence\" \r\n\t\t\t:show=\"pickerShow.residence\" \r\n\t\t\t:title=\"'选择居住地'\"\r\n\t\t\tconfirmColor=\"#004299\"\r\n\t\t\t:value=\"residenceIndex\"\r\n\t\t\t@change=\"onResidenceChange\"\r\n\t\t\t@cancel=\"()=>closePicker('residence')\"\r\n\t\t\t:fields=\"['text', 'value', 'children']\">\r\n\t\t</fui-picker>\r\n\t\t\r\n\t\t<!-- 行业选择器 -->\r\n\t\t<fui-picker \r\n\t\t\t:options=\"pickerOptions.industry\" \r\n\t\t\t:show=\"pickerShow.industry\" \r\n\t\t\t:title=\"'选择行业'\" \r\n\t\t\tconfirmColor=\"#004299\"\r\n\t\t\t:value=\"industryIndex\"\r\n\t\t\t@change=\"onIndustryChange\"\r\n\t\t\t@cancel=\"()=>closePicker('industry')\">\r\n\t\t</fui-picker>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { \r\n\t\tdepartmentList, \r\n\t\tschoolTypeList, \r\n\t\tindustryList, \r\n\t\tsearchAlumni, \r\n\t\tgetUserLocation, \r\n\t\tsaveSearchHistory, \r\n\t\tmockSearchResults, \r\n\t\tmockClassmatesData,\r\n\t\tformatSchoolTypeData,\r\n\t\tformatDepartmentData,\r\n\t\tformatResidenceData,\r\n\t\tformatIndustryData\r\n\t} from './discoverAlumniPage.js';\r\n\t\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcurrentTab: 'search',\r\n\t\t\t\tform: {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tschoolType: '',\r\n\t\t\t\t\tschoolTypeDesc: '',\r\n\t\t\t\t\tdepartment: '',\r\n\t\t\t\t\tdepartmentDesc: '',\r\n\t\t\t\t\tyear: '',\r\n\t\t\t\t\tresidence: '',\r\n\t\t\t\t\tresidenceDesc: '',\r\n\t\t\t\t\tindustry: '',\r\n\t\t\t\t\tindustryDesc: '',\r\n\t\t\t\t\tcompany: '',\r\n\t\t\t\t\tsortByDistance: false\r\n\t\t\t\t},\r\n\t\t\t\tisFavorite: false,\r\n\t\t\t\tisStarAnimating: false,\r\n\t\t\t\t// 搜索状态：initial(初始状态), loading(搜索中), noResult(无结果), hasResult(有结果)\r\n\t\t\t\tsearchState: 'initial',\r\n\t\t\t\tsearchResults: {\r\n\t\t\t\t\ttotal: 0,\r\n\t\t\t\t\tlist: []\r\n\t\t\t\t},\r\n\t\t\t\tclassmatesData: {\r\n\t\t\t\t\ttotal: 0,\r\n\t\t\t\t\tlist: []\r\n\t\t\t\t},\r\n\t\t\t\t// picker选择器索引\r\n\t\t\t\tschoolTypeIndex: [0],\r\n\t\t\t\tdepartmentIndex: [0, 0],\r\n\t\t\t\tresidenceIndex: [0, 0, 0],\r\n\t\t\t\tindustryIndex: [0],\r\n\t\t\t\t// picker组件显示控制\r\n\t\t\t\tpickerShow: {\r\n\t\t\t\t\tschoolType: false,\r\n\t\t\t\t\tdepartment: false,\r\n\t\t\t\t\tresidence: false,\r\n\t\t\t\t\tindustry: false\r\n\t\t\t\t},\r\n\t\t\t\t// 选择器数据初始化为空，将在created钩子中初始化\r\n\t\t\t\tpickerOptions: {\r\n\t\t\t\t\tschoolType: [],\r\n\t\t\t\t\tdepartment: [],\r\n\t\t\t\t\tresidence: [],\r\n\t\t\t\t\tindustry: []\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t// 初始化选择器数据\r\n\t\t\tthis.initPickerData();\r\n\t\t\t\r\n\t\t\t// 初始化同学数据\r\n\t\t\tthis.loadClassmatesData();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 初始化选择器数据\r\n\t\t\tinitPickerData() {\r\n\t\t\t\t// 格式化入校类型数据\r\n\t\t\t\tthis.pickerOptions.schoolType = formatSchoolTypeData();\r\n\t\t\t\t\r\n\t\t\t\t// 格式化院系数据\r\n\t\t\t\tthis.pickerOptions.department = formatDepartmentData();\r\n\t\t\t\t\r\n\t\t\t\t// 格式化居住地数据\r\n\t\t\t\tthis.pickerOptions.residence = formatResidenceData();\r\n\t\t\t\t\r\n\t\t\t\t// 格式化行业数据\r\n\t\t\t\tthis.pickerOptions.industry = formatIndustryData();\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('选择器数据初始化完成', this.pickerOptions);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 加载同学数据\r\n\t\t\tloadClassmatesData() {\r\n\t\t\t\t// 实际开发中应该从服务器获取数据\r\n\t\t\t\t// 这里使用模拟数据\r\n\t\t\t\tthis.classmatesData = mockClassmatesData;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 添加好友\r\n\t\t\taddFriend(id) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '已发送好友申请',\r\n\t\t\t\t\ticon: 'success'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 页面导航\r\n\t\t\tgoBack() {\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta: 1\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 切换Tab\r\n\t\t\tswitchTab(tab) {\r\n\t\t\t\tif (this.currentTab === tab) return;\r\n\t\t\t\t\r\n\t\t\t\tthis.currentTab = tab;\r\n\t\t\t\t\r\n\t\t\t\t// 重置搜索状态\r\n\t\t\t\tif (tab === 'search') {\r\n\t\t\t\t\tthis.searchState = 'initial';\r\n\t\t\t\t}\r\n\t\t\t\t// 如果切换到\"同学\"分类，确保数据已加载\r\n\t\t\t\telse if (tab === 'classmates') {\r\n\t\t\t\t\tif (this.classmatesData.list.length === 0) {\r\n\t\t\t\t\t\tthis.loadClassmatesData();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 显示选择器\r\n\t\t\tshowPicker(type) {\r\n\t\t\t\tthis.pickerShow[type] = true;\r\n\t\t\t\tconsole.log(`显示${type}选择器`);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 关闭选择器\r\n\t\t\tclosePicker(type) {\r\n\t\t\t\tthis.pickerShow[type] = false;\r\n\t\t\t\tconsole.log(`关闭${type}选择器`);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 入校类型选择回调\r\n\t\t\tonSchoolTypeChange(e) {\r\n\t\t\t\tconsole.log('选择入校类型', e);\r\n\t\t\t\tthis.closePicker('schoolType');\r\n\t\t\t\t\r\n\t\t\t\t// 检查并输出原始数据结构，帮助调试\r\n\t\t\t\tconsole.log('入校类型选择回调数据:', JSON.stringify(e));\r\n\t\t\t\t\r\n\t\t\t\tif (e && e.index && Array.isArray(e.index)) {\r\n\t\t\t\t\t// 获取索引\r\n\t\t\t\t\tconst index = e.index[0] || 0;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 从选项列表中获取对应的选项\r\n\t\t\t\t\tconst selected = schoolTypeList[index];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (selected) {\r\n\t\t\t\t\t\t// 更新表单\r\n\t\t\t\t\t\tthis.form.schoolType = selected.code;\r\n\t\t\t\t\t\tthis.form.schoolTypeDesc = selected.name;\r\n\t\t\t\t\t\tthis.schoolTypeIndex = e.index;\r\n\t\t\t\t\t\tconsole.log('已选择入校类型:', selected.name, selected.code);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 入校院系选择回调\r\n\t\t\tonDepartmentChange(e) {\r\n\t\t\t\tconsole.log('选择入校院系', e);\r\n\t\t\t\tthis.closePicker('department');\r\n\t\t\t\t\r\n\t\t\t\tif (e && e.text && e.text.length >= 2) {\r\n\t\t\t\t\tconst year = e.text[0];\r\n\t\t\t\t\tconst dept = e.text[1];\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet desc = '';\r\n\t\t\t\t\tif(year === '全部' && dept === '全部') {\r\n\t\t\t\t\t\tdesc = '不限年份，不限院系';\r\n\t\t\t\t\t} else if(year === '全部') {\r\n\t\t\t\t\t\tdesc = `不限年份，${dept}`;\r\n\t\t\t\t\t} else if(dept === '全部') {\r\n\t\t\t\t\t\tdesc = `${year}年，不限院系`;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdesc = `${year}年，${dept}`;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.form.year = year === '全部' ? '' : year;\r\n\t\t\t\t\tthis.form.department = dept === '全部' ? '' : dept;\r\n\t\t\t\t\tthis.form.departmentDesc = desc;\r\n\t\t\t\t\tthis.departmentIndex = e.index;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 居住地选择回调\r\n\t\t\tonResidenceChange(e) {\r\n\t\t\t\tconsole.log('选择居住地', e);\r\n\t\t\t\tthis.closePicker('residence');\r\n\t\t\t\t\r\n\t\t\t\tif (e && e.text && e.value) {\r\n\t\t\t\t\t// 处理联动选择\r\n\t\t\t\t\tconst path = e.text.join(',');\r\n\t\t\t\t\tconst codes = e.value.join(',');\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.form.residence = codes;\r\n\t\t\t\t\tthis.form.residenceDesc = path;\r\n\t\t\t\t\tthis.residenceIndex = e.index;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 行业选择回调\r\n\t\t\tonIndustryChange(e) {\r\n\t\t\t\tconsole.log('选择行业', e);\r\n\t\t\t\tthis.closePicker('industry');\r\n\t\t\t\t\r\n\t\t\t\t// 检查并输出原始数据结构，帮助调试\r\n\t\t\t\tconsole.log('行业选择回调数据:', JSON.stringify(e));\r\n\t\t\t\t\r\n\t\t\t\tif (e && e.index && Array.isArray(e.index)) {\r\n\t\t\t\t\t// 获取索引\r\n\t\t\t\t\tconst index = e.index[0] || 0;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 从选项列表中获取对应的选项\r\n\t\t\t\t\tconst selected = industryList[index];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (selected) {\r\n\t\t\t\t\t\t// 更新表单\r\n\t\t\t\t\t\tthis.form.industry = selected.code;\r\n\t\t\t\t\t\tthis.form.industryDesc = selected.name;\r\n\t\t\t\t\t\tthis.industryIndex = e.index;\r\n\t\t\t\t\t\tconsole.log('已选择行业:', selected.name, selected.code);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 切换距离排序\r\n\t\t\ttoggleSortByDistance(e) {\r\n\t\t\t\tthis.form.sortByDistance = e.detail.value;\r\n\t\t\t\tif (this.form.sortByDistance) {\r\n\t\t\t\t\tthis.requestLocationPermission();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 启用位置排序\r\n\t\t\tenableLocationSort() {\r\n\t\t\t\tthis.form.sortByDistance = true;\r\n\t\t\t\tthis.requestLocationPermission();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 请求位置权限\r\n\t\t\trequestLocationPermission() {\r\n\t\t\t\tgetUserLocation()\r\n\t\t\t\t\t.then(location => {\r\n\t\t\t\t\t\tconsole.log('位置信息获取成功', location);\r\n\t\t\t\t\t\t// 存储位置信息\r\n\t\t\t\t\t\tthis.form.latitude = location.latitude;\r\n\t\t\t\t\t\tthis.form.longitude = location.longitude;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tconsole.error('位置信息获取失败', err);\r\n\t\t\t\t\t\tthis.form.sortByDistance = false;\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '获取位置信息失败，无法按距离排序',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 搜索校友\r\n\t\t\tsearchAlumni() {\r\n\t\t\t\tconsole.log('搜索条件:', this.form);\r\n\t\t\t\t// 保存搜索历史\r\n\t\t\t\tsaveSearchHistory(this.form);\r\n\t\t\t\t\r\n\t\t\t\t// 设置搜索状态为加载中\r\n\t\t\t\tthis.searchState = 'loading';\r\n\t\t\t\t\r\n\t\t\t\t// 调用搜索API\r\n\t\t\t\tsearchAlumni(this.form)\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t// 处理搜索结果\r\n\t\t\t\t\t\tconsole.log('搜索结果:', res);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 模拟延迟，实际开发中不需要\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t// 使用模拟数据\r\n\t\t\t\t\t\t\tthis.searchResults = mockSearchResults;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// 根据结果数量设置状态\r\n\t\t\t\t\t\t\tif (this.searchResults.total > 0) {\r\n\t\t\t\t\t\t\t\tthis.searchState = 'hasResult';\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.searchState = 'noResult';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tconsole.error('搜索失败', err);\r\n\t\t\t\t\t\tthis.searchState = 'noResult';\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '搜索失败，请重试',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 切换收藏状态\r\n\t\t\ttoggleFavorite() {\r\n\t\t\t\tthis.isFavorite = !this.isFavorite;\r\n\t\t\t\t\r\n\t\t\t\t// 添加动画效果\r\n\t\t\t\tthis.isStarAnimating = true;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.isStarAnimating = false;\r\n\t\t\t\t}, 300);\r\n\t\t\t\t\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: this.isFavorite ? '已收藏' : '取消收藏',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t@import url(\"./discoverAlumniPage.css\");\r\n</style>\r\n","import MiniProgramPage from 'D:/code/cfecer/xiaoyouhui-xiaochengxu/pages/discoverAlumniPage/discoverAlumniPage.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}