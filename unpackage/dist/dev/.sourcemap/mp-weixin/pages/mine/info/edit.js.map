{"version":3,"file":"edit.js","sources":["pages/mine/info/edit.vue","../../../../Program Files/HBuilderX.4.76.2025082103/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWluZS9pbmZvL2VkaXQudnVl"],"sourcesContent":["<template>\r\n  <view class=\"container\">\r\n    <view class=\"example\">\r\n      <uni-forms ref=\"form\" :model=\"user\" labelWidth=\"80px\">\r\n        <uni-forms-item label=\"用户昵称\" name=\"nickName\">\r\n          <uni-easyinput v-model=\"user.nickName\" placeholder=\"请输入昵称\" />\r\n        </uni-forms-item>\r\n        <uni-forms-item label=\"手机号码\" name=\"phonenumber\">\r\n          <uni-easyinput v-model=\"user.phonenumber\" placeholder=\"请输入手机号码\" />\r\n        </uni-forms-item>\r\n        <uni-forms-item label=\"邮箱\" name=\"email\">\r\n          <uni-easyinput v-model=\"user.email\" placeholder=\"请输入邮箱\" />\r\n        </uni-forms-item>\r\n        <uni-forms-item label=\"性别\" name=\"sex\" required>\r\n          <uni-data-checkbox v-model=\"user.sex\" :localdata=\"sexs\" />\r\n        </uni-forms-item>\r\n      </uni-forms>\r\n      <button type=\"primary\" @click=\"submit\">提交</button>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n  import { getUserProfile } from \"@/api/system/user\"\r\n  import { updateUserProfile } from \"@/api/system/user\"\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        user: {\r\n          nickName: \"\",\r\n          phonenumber: \"\",\r\n          email: \"\",\r\n          sex: \"\"\r\n        },\r\n        sexs: [{\r\n          text: '男',\r\n          value: \"0\"\r\n        }, {\r\n          text: '女',\r\n          value: \"1\"\r\n        }],\r\n        rules: {\r\n          nickName: {\r\n            rules: [{\r\n              required: true,\r\n              errorMessage: '用户昵称不能为空'\r\n            }]\r\n          },\r\n          phonenumber: {\r\n            rules: [{\r\n              required: true,\r\n              errorMessage: '手机号码不能为空'\r\n            }, {\r\n              pattern: /^1[3|4|5|6|7|8|9][0-9]\\d{8}$/,\r\n              errorMessage: '请输入正确的手机号码'\r\n            }]\r\n          },\r\n          email: {\r\n            rules: [{\r\n              required: true,\r\n              errorMessage: '邮箱地址不能为空'\r\n            }, {\r\n              format: 'email',\r\n              errorMessage: '请输入正确的邮箱地址'\r\n            }]\r\n          }\r\n        }\r\n      }\r\n    },\r\n    onLoad() {\r\n      this.getUser()\r\n    },\r\n    onReady() {\r\n      this.$refs.form.setRules(this.rules)\r\n    },\r\n    methods: {\r\n      getUser() {\r\n        getUserProfile().then(response => {\r\n          this.user = response.data\r\n        })\r\n      },\r\n      submit(ref) {\r\n        this.$refs.form.validate().then(res => {\r\n          updateUserProfile(this.user).then(response => {\r\n\t\t\tuni.showToast({\r\n\t\t\t  title: '修改成功',\r\n\t\t\t  mask: false,\r\n\t\t\t  duration: 1000\r\n\t\t\t});\r\n\t\t\tuni.navigateBack();\r\n          })\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  page {\r\n    background-color: #ffffff;\r\n  }\r\n\r\n  .example {\r\n    padding: 15px;\r\n    background-color: #fff;\r\n  }\r\n\r\n  .segmented-control {\r\n    margin-bottom: 15px;\r\n  }\r\n\r\n  .button-group {\r\n    margin-top: 15px;\r\n    display: flex;\r\n    justify-content: space-around;\r\n  }\r\n\r\n  .form-item {\r\n    display: flex;\r\n    align-items: center;\r\n    flex: 1;\r\n  }\r\n\r\n  .button {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 35px;\r\n    line-height: 35px;\r\n    margin-left: 10px;\r\n  }\r\n</style>\r\n","import MiniProgramPage from 'D:/Projects/XBuider/校友会/xiaoyouhui-xiaochengxu/pages/mine/info/edit.vue'\nwx.createPage(MiniProgramPage)"],"names":["getUserProfile","updateUserProfile","uni"],"mappings":";;;AA0BE,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,MAAM;AAAA,QACJ,UAAU;AAAA,QACV,aAAa;AAAA,QACb,OAAO;AAAA,QACP,KAAK;AAAA,MACN;AAAA,MACD,MAAM,CAAC;AAAA,QACL,MAAM;AAAA,QACN,OAAO;AAAA,MACT,GAAG;AAAA,QACD,MAAM;AAAA,QACN,OAAO;AAAA,MACT,CAAC;AAAA,MACD,OAAO;AAAA,QACL,UAAU;AAAA,UACR,OAAO,CAAC;AAAA,YACN,UAAU;AAAA,YACV,cAAc;AAAA,WACf;AAAA,QACF;AAAA,QACD,aAAa;AAAA,UACX,OAAO,CAAC;AAAA,YACN,UAAU;AAAA,YACV,cAAc;AAAA,UAChB,GAAG;AAAA,YACD,SAAS;AAAA,YACT,cAAc;AAAA,WACf;AAAA,QACF;AAAA,QACD,OAAO;AAAA,UACL,OAAO,CAAC;AAAA,YACN,UAAU;AAAA,YACV,cAAc;AAAA,UAChB,GAAG;AAAA,YACD,QAAQ;AAAA,YACR,cAAc;AAAA,WACf;AAAA,QACH;AAAA,MACF;AAAA,IACF;AAAA,EACD;AAAA,EACD,SAAS;AACP,SAAK,QAAQ;AAAA,EACd;AAAA,EACD,UAAU;AACR,SAAK,MAAM,KAAK,SAAS,KAAK,KAAK;AAAA,EACpC;AAAA,EACD,SAAS;AAAA,IACP,UAAU;AACRA,qCAAgB,EAAC,KAAK,cAAY;AAChC,aAAK,OAAO,SAAS;AAAA,OACtB;AAAA,IACF;AAAA,IACD,OAAO,KAAK;AACV,WAAK,MAAM,KAAK,SAAQ,EAAG,KAAK,SAAO;AACrCC,wBAAAA,kBAAkB,KAAK,IAAI,EAAE,KAAK,cAAY;AACrDC,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,MAAM;AAAA,YACN,UAAU;AAAA,UACZ,CAAC;AACDA,wBAAG,MAAC,aAAY;AAAA,SACR;AAAA,OACF;AAAA,IACH;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9FF,GAAG,WAAW,eAAe;"}