{"version":3,"file":"index.js","sources":["pages/mine/index.vue","../../../../Program Files/HBuilderX.4.76.2025082103/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWluZS9pbmRleC52dWU"],"sourcesContent":["<template>\r\n  <view class=\"mine-container\" :style=\"{height: `${windowHeight}px`}\">\r\n    <!--顶部个人信息栏-->\r\n    <view class=\"header-section\">\r\n      <view class=\"flex padding justify-between\">\r\n        <view class=\"flex align-center\">\r\n          <view v-if=\"!avatar\" class=\"cu-avatar xl round bg-white\">\r\n            <view class=\"iconfont icon-people text-gray icon\"></view>\r\n          </view>\r\n          <image v-if=\"avatar\" @click=\"handleToAvatar\" :src=\"avatar\" class=\"cu-avatar xl round\" mode=\"widthFix\">\r\n          </image>\r\n          <view v-if=\"!name\" @click=\"handleToLogin\" class=\"login-tip\">\r\n            点击登录\r\n          </view>\r\n          <view v-if=\"name\" @click=\"handleToInfo\" class=\"user-info\">\r\n            <view class=\"u_title\">\r\n              用户名：{{ name }}\r\n            </view>\r\n          </view>\r\n        </view>\r\n        <view @click=\"handleToInfo\" class=\"flex align-center\">\r\n          <text>个人信息</text>\r\n          <view class=\"iconfont icon-right\"></view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <view class=\"content-section\">\r\n      <view class=\"mine-actions grid col-4 text-center\">\r\n        <view class=\"action-item\" @click=\"handleJiaoLiuQun\">\r\n          <view class=\"iconfont icon-friendfill text-pink icon\"></view>\r\n          <text class=\"text\">交流群</text>\r\n        </view>\r\n        <view class=\"action-item\" @click=\"handleBuilding\">\r\n          <view class=\"iconfont icon-service text-blue icon\"></view>\r\n          <text class=\"text\">在线客服</text>\r\n        </view>\r\n        <view class=\"action-item\" @click=\"handleBuilding\">\r\n          <view class=\"iconfont icon-community text-mauve icon\"></view>\r\n          <text class=\"text\">反馈社区</text>\r\n        </view>\r\n        <view class=\"action-item\" @click=\"handleBuilding\">\r\n          <view class=\"iconfont icon-dianzan text-green icon\"></view>\r\n          <text class=\"text\">点赞我们</text>\r\n        </view>\r\n      </view>\r\n\r\n      <view class=\"menu-list\">\r\n        <view class=\"list-cell list-cell-arrow\" @click=\"handleToEditInfo\">\r\n          <view class=\"menu-item-box\">\r\n            <view class=\"iconfont icon-user menu-icon\"></view>\r\n            <view>编辑资料</view>\r\n          </view>\r\n        </view>\r\n        <view class=\"list-cell list-cell-arrow\" @click=\"handleHelp\">\r\n          <view class=\"menu-item-box\">\r\n            <view class=\"iconfont icon-help menu-icon\"></view>\r\n            <view>常见问题</view>\r\n          </view>\r\n        </view>\r\n        <view class=\"list-cell list-cell-arrow\" @click=\"handleAbout\">\r\n          <view class=\"menu-item-box\">\r\n            <view class=\"iconfont icon-aixin menu-icon\"></view>\r\n            <view>关于我们</view>\r\n          </view>\r\n        </view>\r\n        <view class=\"list-cell list-cell-arrow\" @click=\"handleToSetting\">\r\n          <view class=\"menu-item-box\">\r\n            <view class=\"iconfont icon-setting menu-icon\"></view>\r\n            <view>应用设置</view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- 退出登录按钮 -->\r\n      <view class=\"cu-list menu\" style=\"margin-top: 20px;\">\r\n        <view class=\"cu-item item-box\">\r\n          <view class=\"content text-center\" @click=\"handleLogout\">\r\n            <text class=\"text-red\">退出登录</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n    </view>\r\n  </view>\r\n  <view>\r\n\t  <uni-popup ref=\"popup\" type=\"dialog\">\r\n\t    <uni-popup-dialog type=\"info\" cancelText=\"关闭\" confirmText=\"退出\"\r\n\t                      title=\"通知\" content=\"确定注销并退出系统吗\" \r\n\t    \t\t\t\t  @confirm=\"dialogConfirm\"\r\n\t                      @close=\"dialogClose\">\r\n\t    </uni-popup-dialog>\r\n\t  </uni-popup>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\n  import storage from '@/utils/storage'\r\n  import store from '@/store'\r\n  import { ref } from \"vue\";\r\n  import config from '@/config.js'\r\n  const name=store.state.user.name;\r\n  const version= config.appInfo.version;\r\n  const avatar=ref(store.state.user.avatar);\r\n  const windowHeight=ref(uni.getSystemInfoSync().windowHeight - 50);\r\n  const popup = ref(null);\r\n  \r\n  uni.$on('refresh', () => {\r\n      avatar.value=store.state.user.avatar;\r\n  }) \r\n  \r\n  console.log(avatar.value)\r\n  \r\n  function handleToInfo() {\r\n\t  uni.navigateTo({\r\n\t  \turl: '/pages/mine/info/index'\r\n\t  });\r\n  };\r\n  function handleToEditInfo() {\r\n\t  uni.navigateTo({\r\n\t  \turl: '/pages/mine/info/edit'\r\n\t  });\r\n  };\r\n  function handleToSetting() {\r\n\t  uni.navigateTo({\r\n\t  \turl: '/pages/mine/setting/index'\r\n\t  });\r\n  };\r\n  function handleToLogin() {\r\n\t  uni.reLaunch({\r\n\t  \turl: '/pages/login'\r\n\t  });\r\n  };\r\n  function handleToAvatar() {\r\n\t  uni.navigateTo({\r\n\t  \turl: '/pages/mine/avatar/index'\r\n\t  });\r\n  };\r\n  function handleLogout() {\r\n\t  popup.value.open();\r\n  };\r\n  function dialogConfirm() {\r\n  \t//console.log('----------------点击确认------------')\r\n\tstore.dispatch('LogOut').then(() => {\r\n\t\t\tuni.reLaunch({\r\n\t\t\t\turl: '/pages/login'\r\n\t\t\t});\r\n\t})\r\n  };\r\n  function dialogClose() {\r\n  \t//console.log('点击关闭')\r\n  };\r\n  function handleHelp() {\r\n\t  uni.navigateTo({\r\n\t  \turl: '/pages/mine/help/index'\r\n\t  });\r\n  };\r\n  function handleAbout() {\r\n\t  uni.navigateTo({\r\n\t  \turl: '/pages/mine/about/index'\r\n\t  });\r\n  };\r\n  function handleJiaoLiuQun() {\r\n\t  uni.showToast({\r\n\t    title: 'QQ群：133713780',\r\n\t    mask: false,\r\n\t\ticon:\"none\",\r\n\t    duration: 1000\r\n\t  });\r\n  };\r\n  function handleBuilding() {\r\n\t  uni.showToast({\r\n\t    title: '模块建设中~',\r\n\t    mask: false,\r\n\t\ticon:\"none\",\r\n\t    duration: 1000\r\n\t  });\r\n  }\r\n  \r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n  page {\r\n    background-color: #f5f6f7;\r\n  }\r\n\r\n  .mine-container {\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n\r\n    .header-section {\r\n      padding: 15px 15px 45px 15px;\r\n      background-color: #3c96f3;\r\n      color: white;\r\n\r\n      .login-tip {\r\n        font-size: 18px;\r\n        margin-left: 10px;\r\n      }\r\n\r\n      .cu-avatar {\r\n        border: 2px solid #eaeaea;\r\n\r\n        .icon {\r\n          font-size: 40px;\r\n        }\r\n      }\r\n\r\n      .user-info {\r\n        margin-left: 15px;\r\n\r\n        .u_title {\r\n          font-size: 18px;\r\n          line-height: 30px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .content-section {\r\n      position: relative;\r\n      top: -50px;\r\n\r\n      .mine-actions {\r\n        margin: 15px 15px;\r\n        padding: 20px 0px;\r\n        border-radius: 8px;\r\n        background-color: white;\r\n\r\n        .action-item {\r\n          .icon {\r\n            font-size: 28px;\r\n          }\r\n\r\n          .text {\r\n            display: block;\r\n            font-size: 13px;\r\n            margin: 8px 0px;\r\n          }\r\n        }\r\n      }\r\n      \r\n      // 退出登录按钮样式\r\n      .item-box {\r\n        background-color: #FFFFFF;\r\n        margin: 0 15px;\r\n        display: flex;\r\n        flex-direction: row;\r\n        justify-content: center;\r\n        align-items: center;\r\n        padding: 15px;\r\n        border-radius: 8px;\r\n        color: #303133;\r\n        font-size: 16px;\r\n        \r\n        .text-red {\r\n          color: #e74c3c;\r\n          font-weight: 500;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n","import MiniProgramPage from 'D:/Projects/XBuider/校友会/ruoyi-app-vue3/pages/mine/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["store","config","ref","uni","MiniProgramPage"],"mappings":";;;;;;;;;;;;;;;;;;AAqGE,UAAM,OAAKA,YAAK,MAAC,MAAM,KAAK;AACbC,WAAM,OAAC,QAAQ;AAC9B,UAAM,SAAOC,cAAAA,IAAIF,YAAAA,MAAM,MAAM,KAAK,MAAM;AACxC,UAAM,eAAaE,cAAAA,IAAIC,cAAG,MAAC,kBAAiB,EAAG,eAAe,EAAE;AAChE,UAAM,QAAQD,kBAAI,IAAI;AAEtBC,wBAAI,IAAI,WAAW,MAAM;AACrB,aAAO,QAAMH,YAAAA,MAAM,MAAM,KAAK;AAAA,IACpC,CAAG;AAEDG,kBAAAA,MAAA,MAAA,OAAA,+BAAY,OAAO,KAAK;AAExB,aAAS,eAAe;AACvBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACT,CAAI;AAAA,IAEJ;AAAE,aAAS,mBAAmB;AAC3BA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACT,CAAI;AAAA,IAEJ;AAAE,aAAS,kBAAkB;AAC1BA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACT,CAAI;AAAA,IAEJ;AAAE,aAAS,gBAAgB;AACxBA,oBAAAA,MAAI,SAAS;AAAA,QACZ,KAAK;AAAA,MACT,CAAI;AAAA,IAEJ;AAAE,aAAS,iBAAiB;AACzBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACT,CAAI;AAAA,IAEJ;AAAE,aAAS,eAAe;AACvB,YAAM,MAAM;IAEf;AAAE,aAAS,gBAAgB;AAE1BH,kBAAAA,MAAM,SAAS,QAAQ,EAAE,KAAK,MAAM;AAClCG,sBAAAA,MAAI,SAAS;AAAA,UACZ,KAAK;AAAA,QACT,CAAI;AAAA,MACJ,CAAE;AAAA,IAEF;AAAE,aAAS,cAAc;AAAA,IAGzB;AAAE,aAAS,aAAa;AACrBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACT,CAAI;AAAA,IAEJ;AAAE,aAAS,cAAc;AACtBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACT,CAAI;AAAA,IAEJ;AAAE,aAAS,mBAAmB;AAC3BA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,QACT,MAAK;AAAA,QACF,UAAU;AAAA,MACf,CAAI;AAAA,IAEJ;AAAE,aAAS,iBAAiB;AACzBA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,QACT,MAAK;AAAA,QACF,UAAU;AAAA,MACf,CAAI;AAAA,IACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChLH,GAAG,WAAWC,SAAe;"}