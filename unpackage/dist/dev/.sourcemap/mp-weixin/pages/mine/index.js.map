{"version":3,"file":"index.js","sources":["pages/mine/index.vue","../../../../Program Files/HBuilderX.4.76.2025082103/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWluZS9pbmRleC52dWU"],"sourcesContent":["<template>\r\n  <view class=\"mine-container\">\r\n    <!-- 顶部背景区域 -->\r\n    <view class=\"header-bg\">\r\n      <view class=\"header-content\">\r\n        <!-- 用户头像和信息 -->\r\n        <view class=\"user-card\">\r\n          <view class=\"avatar-wrapper\" @click=\"avatar ? handleToAvatar() : handleToLogin()\">\r\n            <image v-if=\"avatar\" :src=\"avatar\" class=\"user-avatar\" mode=\"aspectFill\"></image>\r\n            <view v-else class=\"avatar-placeholder\">\r\n              <view class=\"iconfont icon-people\"></view>\r\n            </view>\r\n          </view>\r\n          <view class=\"user-info-wrapper\">\r\n            <view v-if=\"!name\" @click=\"handleToLogin\" class=\"login-prompt\">\r\n              <text class=\"login-text\">点击登录</text>\r\n            </view>\r\n            <view v-else class=\"user-details\">\r\n              <text class=\"user-name\">{{ name }}</text>\r\n              <view class=\"info-btn\" @click=\"handleToInfo\">\r\n                <text class=\"info-text\">个人信息</text>\r\n                <view class=\"iconfont icon-right\"></view>\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 内容区域 -->\r\n    <view class=\"content-wrapper\">\r\n      <!-- 快捷操作卡片 -->\r\n      <view class=\"action-card\">\r\n        <view class=\"action-grid\">\r\n          <view class=\"action-item\" @click=\"handleJiaoLiuQun\">\r\n            <view class=\"action-icon-wrapper bg-gradient-pink\">\r\n              <view class=\"iconfont icon-friendfill\"></view>\r\n            </view>\r\n            <text class=\"action-text\">交流群</text>\r\n          </view>\r\n          <view class=\"action-item\" @click=\"handleBuilding\">\r\n            <view class=\"action-icon-wrapper bg-gradient-blue\">\r\n              <view class=\"iconfont icon-service\"></view>\r\n            </view>\r\n            <text class=\"action-text\">在线客服</text>\r\n          </view>\r\n          <view class=\"action-item\" @click=\"handleBuilding\">\r\n            <view class=\"action-icon-wrapper bg-gradient-purple\">\r\n              <view class=\"iconfont icon-community\"></view>\r\n            </view>\r\n            <text class=\"action-text\">反馈社区</text>\r\n          </view>\r\n          <view class=\"action-item\" @click=\"handleBuilding\">\r\n            <view class=\"action-icon-wrapper bg-gradient-green\">\r\n              <view class=\"iconfont icon-dianzan\"></view>\r\n            </view>\r\n            <text class=\"action-text\">点赞我们</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- 功能菜单卡片 -->\r\n      <view class=\"menu-card\">\r\n        <view class=\"menu-item\" @click=\"handleToEditInfo\">\r\n          <view class=\"menu-left\">\r\n            <view class=\"menu-icon-wrapper bg-gradient-blue\">\r\n              <view class=\"iconfont icon-user\"></view>\r\n            </view>\r\n            <text class=\"menu-title\">编辑资料</text>\r\n          </view>\r\n          <view class=\"iconfont icon-right menu-arrow\"></view>\r\n        </view>\r\n        <view class=\"menu-item\" @click=\"handleHelp\">\r\n          <view class=\"menu-left\">\r\n            <view class=\"menu-icon-wrapper bg-gradient-orange\">\r\n              <view class=\"iconfont icon-help\"></view>\r\n            </view>\r\n            <text class=\"menu-title\">常见问题</text>\r\n          </view>\r\n          <view class=\"iconfont icon-right menu-arrow\"></view>\r\n        </view>\r\n        <view class=\"menu-item\" @click=\"handleAbout\">\r\n          <view class=\"menu-left\">\r\n            <view class=\"menu-icon-wrapper bg-gradient-red\">\r\n              <view class=\"iconfont icon-aixin\"></view>\r\n            </view>\r\n            <text class=\"menu-title\">关于我们</text>\r\n          </view>\r\n          <view class=\"iconfont icon-right menu-arrow\"></view>\r\n        </view>\r\n        <view class=\"menu-item menu-item-last\" @click=\"handleToSetting\">\r\n          <view class=\"menu-left\">\r\n            <view class=\"menu-icon-wrapper bg-gradient-gray\">\r\n              <view class=\"iconfont icon-setting\"></view>\r\n            </view>\r\n            <text class=\"menu-title\">应用设置</text>\r\n          </view>\r\n          <view class=\"iconfont icon-right menu-arrow\"></view>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- 退出登录按钮 -->\r\n      <view class=\"logout-card\" @click=\"handleLogout\">\r\n        <text class=\"logout-text\">退出登录</text>\r\n      </view>\r\n    </view>\r\n  </view>\r\n  \r\n  <!-- 退出确认弹窗 -->\r\n  <view>\r\n    <uni-popup ref=\"popup\" type=\"dialog\">\r\n      <uni-popup-dialog \r\n        type=\"info\" \r\n        cancelText=\"关闭\" \r\n        confirmText=\"退出\"\r\n        title=\"通知\" \r\n        content=\"确定注销并退出系统吗\" \r\n        @confirm=\"dialogConfirm\"\r\n        @close=\"dialogClose\">\r\n      </uni-popup-dialog>\r\n    </uni-popup>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\n  import storage from '@/utils/storage'\r\n  import store from '@/store'\r\n  import { ref } from \"vue\";\r\n  import config from '@/config.js'\r\n  const name=store.state.user.nickName;\r\n  const version= config.appInfo.version;\r\n  const avatar=ref(store.state.user.avatar);\r\n  const windowHeight=ref(uni.getSystemInfoSync().windowHeight - 50);\r\n  const popup = ref(null);\r\n  \r\n  uni.$on('refresh', () => {\r\n      avatar.value=store.state.user.avatar;\r\n  }) \r\n  \r\n  console.log(avatar.value)\r\n  \r\n  function handleToInfo() {\r\n\t  uni.navigateTo({\r\n\t  \turl: '/pages/mine/info/index'\r\n\t  });\r\n  };\r\n  function handleToEditInfo() {\r\n\t  uni.navigateTo({\r\n\t  \turl: '/pages/mine/info/edit'\r\n\t  });\r\n  };\r\n  function handleToSetting() {\r\n\t  uni.navigateTo({\r\n\t  \turl: '/pages/mine/setting/index'\r\n\t  });\r\n  };\r\n  function handleToLogin() {\r\n\t  uni.reLaunch({\r\n\t  \turl: '/pages/login'\r\n\t  });\r\n  };\r\n  function handleToAvatar() {\r\n\t  uni.navigateTo({\r\n\t  \turl: '/pages/mine/avatar/index'\r\n\t  });\r\n  };\r\n  function handleLogout() {\r\n\t  popup.value.open();\r\n  };\r\n  function dialogConfirm() {\r\n  \t//console.log('----------------点击确认------------')\r\n\tstore.dispatch('LogOut').then(() => {\r\n\t\t\tuni.reLaunch({\r\n\t\t\t\turl: '/pages/login'\r\n\t\t\t});\r\n\t})\r\n  };\r\n  function dialogClose() {\r\n  \t//console.log('点击关闭')\r\n  };\r\n  function handleHelp() {\r\n\t  uni.navigateTo({\r\n\t  \turl: '/pages/mine/help/index'\r\n\t  });\r\n  };\r\n  function handleAbout() {\r\n\t  uni.navigateTo({\r\n\t  \turl: '/pages/mine/about/index'\r\n\t  });\r\n  };\r\n  function handleJiaoLiuQun() {\r\n\t  uni.showToast({\r\n\t    title: 'QQ群：133713780',\r\n\t    mask: false,\r\n\t\ticon:\"none\",\r\n\t    duration: 1000\r\n\t  });\r\n  };\r\n  function handleBuilding() {\r\n\t  uni.showToast({\r\n\t    title: '模块建设中~',\r\n\t    mask: false,\r\n\t\ticon:\"none\",\r\n\t    duration: 1000\r\n\t  });\r\n  }\r\n  \r\n</script>\r\n\r\n<style lang=\"scss\">\r\npage {\r\n  background-color: #f5f7fa;\r\n}\r\n\r\n.mine-container {\r\n  min-height: 100vh;\r\n  background-color: #f5f7fa;\r\n}\r\n\r\n/* 顶部背景渐变区域 */\r\n.header-bg {\r\n  background: linear-gradient(135deg, #004299 0%, #2A6DCF 100%);\r\n  padding: 40rpx 32rpx 120rpx 32rpx;\r\n  position: relative;\r\n}\r\n\r\n.header-content {\r\n  position: relative;\r\n  z-index: 2;\r\n}\r\n\r\n/* 用户信息卡片 */\r\n.user-card {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 40rpx 32rpx;\r\n  background: rgba(255, 255, 255, 0.15);\r\n  backdrop-filter: blur(20rpx);\r\n  border-radius: 24rpx;\r\n  border: 2rpx solid rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.avatar-wrapper {\r\n  flex-shrink: 0;\r\n  margin-right: 32rpx;\r\n}\r\n\r\n.user-avatar {\r\n  width: 140rpx;\r\n  height: 140rpx;\r\n  border-radius: 70rpx;\r\n  border: 6rpx solid rgba(255, 255, 255, 0.3);\r\n  box-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n.avatar-placeholder {\r\n  width: 140rpx;\r\n  height: 140rpx;\r\n  border-radius: 70rpx;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: 6rpx solid rgba(255, 255, 255, 0.3);\r\n  box-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.15);\r\n  \r\n  .iconfont {\r\n    font-size: 70rpx;\r\n    color: #999999;\r\n  }\r\n}\r\n\r\n.user-info-wrapper {\r\n  flex: 1;\r\n  min-width: 0;\r\n}\r\n\r\n.login-prompt {\r\n  .login-text {\r\n    font-size: 36rpx;\r\n    font-weight: 500;\r\n    color: white;\r\n  }\r\n}\r\n\r\n.user-details {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16rpx;\r\n}\r\n\r\n.user-name {\r\n  font-size: 40rpx;\r\n  font-weight: 600;\r\n  color: white;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n.info-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8rpx;\r\n  padding: 12rpx 24rpx;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-radius: 30rpx;\r\n  align-self: flex-start;\r\n  \r\n  .info-text {\r\n    font-size: 28rpx;\r\n    color: white;\r\n  }\r\n  \r\n  .iconfont {\r\n    font-size: 24rpx;\r\n    color: white;\r\n  }\r\n}\r\n\r\n/* 内容区域 */\r\n.content-wrapper {\r\n  margin-top: -80rpx;\r\n  padding: 0 32rpx 32rpx 32rpx;\r\n  position: relative;\r\n  z-index: 3;\r\n}\r\n\r\n/* 快捷操作卡片 */\r\n.action-card {\r\n  background: white;\r\n  border-radius: 24rpx;\r\n  padding: 48rpx 32rpx;\r\n  margin-bottom: 24rpx;\r\n  box-shadow: 0 4rpx 24rpx rgba(0, 0, 0, 0.06);\r\n}\r\n\r\n.action-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(4, 1fr);\r\n  gap: 32rpx;\r\n}\r\n\r\n.action-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 16rpx;\r\n}\r\n\r\n.action-icon-wrapper {\r\n  width: 96rpx;\r\n  height: 96rpx;\r\n  border-radius: 24rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  box-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.1);\r\n  transition: all 0.3s ease;\r\n  \r\n  .iconfont {\r\n    font-size: 48rpx;\r\n    color: white;\r\n  }\r\n}\r\n\r\n.action-item:active .action-icon-wrapper {\r\n  transform: scale(0.95);\r\n}\r\n\r\n.action-text {\r\n  font-size: 26rpx;\r\n  color: #666666;\r\n  text-align: center;\r\n}\r\n\r\n/* 渐变背景色 */\r\n.bg-gradient-pink {\r\n  background: linear-gradient(135deg, #ff6b9d 0%, #ff8fab 100%);\r\n}\r\n\r\n.bg-gradient-blue {\r\n  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);\r\n}\r\n\r\n.bg-gradient-purple {\r\n  background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%);\r\n}\r\n\r\n.bg-gradient-green {\r\n  background: linear-gradient(135deg, #56ab2f 0%, #a8e063 100%);\r\n}\r\n\r\n.bg-gradient-orange {\r\n  background: linear-gradient(135deg, #ff8008 0%, #ffc837 100%);\r\n}\r\n\r\n.bg-gradient-red {\r\n  background: linear-gradient(135deg, #ff6a88 0%, #ff99ac 100%);\r\n}\r\n\r\n.bg-gradient-gray {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n}\r\n\r\n/* 功能菜单卡片 */\r\n.menu-card {\r\n  background: white;\r\n  border-radius: 24rpx;\r\n  padding: 0;\r\n  margin-bottom: 24rpx;\r\n  overflow: hidden;\r\n  box-shadow: 0 4rpx 24rpx rgba(0, 0, 0, 0.06);\r\n}\r\n\r\n.menu-item {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 32rpx;\r\n  border-bottom: 2rpx solid #f5f5f5;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n.menu-item:active {\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.menu-item-last {\r\n  border-bottom: none;\r\n}\r\n\r\n.menu-left {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 24rpx;\r\n}\r\n\r\n.menu-icon-wrapper {\r\n  width: 80rpx;\r\n  height: 80rpx;\r\n  border-radius: 16rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  \r\n  .iconfont {\r\n    font-size: 40rpx;\r\n    color: white;\r\n  }\r\n}\r\n\r\n.menu-title {\r\n  font-size: 32rpx;\r\n  color: #333333;\r\n  font-weight: 500;\r\n}\r\n\r\n.menu-arrow {\r\n  font-size: 28rpx;\r\n  color: #cccccc;\r\n}\r\n\r\n/* 退出登录按钮 */\r\n.logout-card {\r\n  background: white;\r\n  border-radius: 24rpx;\r\n  padding: 32rpx;\r\n  text-align: center;\r\n  box-shadow: 0 4rpx 24rpx rgba(0, 0, 0, 0.06);\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.logout-card:active {\r\n  transform: scale(0.98);\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.logout-text {\r\n  font-size: 32rpx;\r\n  color: #e74c3c;\r\n  font-weight: 600;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'D:/Projects/XBuider/校友会/xiaoyouhui-xiaochengxu/pages/mine/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["store","config","ref","uni","MiniProgramPage"],"mappings":";;;;;;;;;;;;;;;;;;AAiIE,UAAM,OAAKA,YAAK,MAAC,MAAM,KAAK;AACbC,WAAM,OAAC,QAAQ;AAC9B,UAAM,SAAOC,cAAAA,IAAIF,YAAAA,MAAM,MAAM,KAAK,MAAM;AACrBE,kBAAAA,IAAIC,cAAAA,MAAI,oBAAoB,eAAe,EAAE;AAChE,UAAM,QAAQD,kBAAI,IAAI;AAEtBC,wBAAI,IAAI,WAAW,MAAM;AACrB,aAAO,QAAMH,YAAAA,MAAM,MAAM,KAAK;AAAA,IACpC,CAAG;AAEDG,kBAAAA,MAAA,MAAA,OAAA,+BAAY,OAAO,KAAK;AAExB,aAAS,eAAe;AACvBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACT,CAAI;AAAA,IAEJ;AAAE,aAAS,mBAAmB;AAC3BA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACT,CAAI;AAAA,IAEJ;AAAE,aAAS,kBAAkB;AAC1BA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACT,CAAI;AAAA,IAEJ;AAAE,aAAS,gBAAgB;AACxBA,oBAAAA,MAAI,SAAS;AAAA,QACZ,KAAK;AAAA,MACT,CAAI;AAAA,IAEJ;AAAE,aAAS,iBAAiB;AACzBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACT,CAAI;AAAA,IAEJ;AAAE,aAAS,eAAe;AACvB,YAAM,MAAM;IAEf;AAAE,aAAS,gBAAgB;AAE1BH,kBAAAA,MAAM,SAAS,QAAQ,EAAE,KAAK,MAAM;AAClCG,sBAAAA,MAAI,SAAS;AAAA,UACZ,KAAK;AAAA,QACT,CAAI;AAAA,MACJ,CAAE;AAAA,IAEF;AAAE,aAAS,cAAc;AAAA,IAGzB;AAAE,aAAS,aAAa;AACrBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACT,CAAI;AAAA,IAEJ;AAAE,aAAS,cAAc;AACtBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACT,CAAI;AAAA,IAEJ;AAAE,aAAS,mBAAmB;AAC3BA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,QACT,MAAK;AAAA,QACF,UAAU;AAAA,MACf,CAAI;AAAA,IAEJ;AAAE,aAAS,iBAAiB;AACzBA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,QACT,MAAK;AAAA,QACF,UAAU;AAAA,MACf,CAAI;AAAA,IACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5MH,GAAG,WAAWC,SAAe;"}