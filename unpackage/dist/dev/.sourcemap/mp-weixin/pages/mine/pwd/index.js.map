{"version":3,"file":"index.js","sources":["pages/mine/pwd/index.vue","../../../../Program Files/HBuilderX.4.76.2025082103/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWluZS9wd2QvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n  <view class=\"pwd-retrieve-container\">\r\n    <uni-forms ref=\"form\" :value=\"user\" labelWidth=\"80px\">\r\n      <uni-forms-item name=\"oldPassword\" label=\"旧密码\">\r\n        <uni-easyinput type=\"password\" v-model=\"user.oldPassword\" placeholder=\"请输入旧密码\" />\r\n      </uni-forms-item>\r\n      <uni-forms-item name=\"newPassword\" label=\"新密码\">\r\n        <uni-easyinput type=\"password\" v-model=\"user.newPassword\" placeholder=\"请输入新密码\" />\r\n      </uni-forms-item>\r\n      <uni-forms-item name=\"confirmPassword\" label=\"确认密码\">\r\n        <uni-easyinput type=\"password\" v-model=\"user.confirmPassword\" placeholder=\"请确认新密码\" />\r\n      </uni-forms-item>\r\n      <button type=\"primary\" @click=\"submit\">提交</button>\r\n    </uni-forms>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n  import { updateUserPwd } from \"@/api/system/user\"\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        user: {\r\n          oldPassword: undefined,\r\n          newPassword: undefined,\r\n          confirmPassword: undefined\r\n        },\r\n        rules: {\r\n          oldPassword: {\r\n            rules: [{\r\n              required: true,\r\n              errorMessage: '旧密码不能为空'\r\n            }]\r\n          },\r\n          newPassword: {\r\n            rules: [{\r\n                required: true,\r\n                errorMessage: '新密码不能为空',\r\n              },\r\n              {\r\n                minLength: 6,\r\n                maxLength: 20,\r\n                errorMessage: '长度在 6 到 20 个字符'\r\n              }\r\n            ]\r\n          },\r\n          confirmPassword: {\r\n            rules: [{\r\n                required: true,\r\n                errorMessage: '确认密码不能为空'\r\n              }, {\r\n                validateFunction: (rule, value, data) => data.newPassword === value,\r\n                errorMessage: '两次输入的密码不一致'\r\n              }\r\n            ]\r\n          }\r\n        }\r\n      }\r\n    },\r\n    onReady() {\r\n      this.$refs.form.setRules(this.rules)\r\n    },\r\n    methods: {\r\n      submit() {\r\n        this.$refs.form.validate().then(res => {\r\n          updateUserPwd(this.user.oldPassword, this.user.newPassword).then(response => {\r\n\t\t\tuni.showToast({\r\n\t\t\t  title: '修改成功',\r\n\t\t\t  mask: false,\r\n\t\t\t  duration: 1000\r\n\t\t\t});\r\n\t\t\tuni.navigateBack();\r\n          })\r\n\t\t  \r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  page {\r\n    background-color: #ffffff;\r\n  }\r\n\r\n  .pwd-retrieve-container {\r\n    padding-top: 36rpx;\r\n    padding: 15px;\r\n  }\r\n</style>\r\n","import MiniProgramPage from 'D:/Projects/XBuider/校友会/xiaoyouhui-xiaochengxu/pages/mine/pwd/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["updateUserPwd","uni"],"mappings":";;;AAoBE,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,MAAM;AAAA,QACJ,aAAa;AAAA,QACb,aAAa;AAAA,QACb,iBAAiB;AAAA,MAClB;AAAA,MACD,OAAO;AAAA,QACL,aAAa;AAAA,UACX,OAAO,CAAC;AAAA,YACN,UAAU;AAAA,YACV,cAAc;AAAA,WACf;AAAA,QACF;AAAA,QACD,aAAa;AAAA,UACX,OAAO;AAAA,YAAC;AAAA,cACJ,UAAU;AAAA,cACV,cAAc;AAAA,YACf;AAAA,YACD;AAAA,cACE,WAAW;AAAA,cACX,WAAW;AAAA,cACX,cAAc;AAAA,YAChB;AAAA,UACF;AAAA,QACD;AAAA,QACD,iBAAiB;AAAA,UACf,OAAO;AAAA,YAAC;AAAA,cACJ,UAAU;AAAA,cACV,cAAc;AAAA,YAChB;AAAA,YAAG;AAAA,cACD,kBAAkB,CAAC,MAAM,OAAO,SAAS,KAAK,gBAAgB;AAAA,cAC9D,cAAc;AAAA,YAChB;AAAA,UACF;AAAA,QACF;AAAA,MACF;AAAA,IACF;AAAA,EACD;AAAA,EACD,UAAU;AACR,SAAK,MAAM,KAAK,SAAS,KAAK,KAAK;AAAA,EACpC;AAAA,EACD,SAAS;AAAA,IACP,SAAS;AACP,WAAK,MAAM,KAAK,SAAQ,EAAG,KAAK,SAAO;AACrCA,sCAAc,KAAK,KAAK,aAAa,KAAK,KAAK,WAAW,EAAE,KAAK,cAAY;AACpFC,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,MAAM;AAAA,YACN,UAAU;AAAA,UACZ,CAAC;AACDA,wBAAG,MAAC,aAAY;AAAA,SACR;AAAA,OAEF;AAAA,IACH;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7EF,GAAG,WAAW,eAAe;"}