{"version":3,"file":"myFriendsPage.js","sources":["pages/myFriendsPage/myFriendsPage.js","pages/myFriendsPage/myFriendsPage.vue","../../../apps/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbXlGcmllbmRzUGFnZS9teUZyaWVuZHNQYWdlLnZ1ZQ"],"sourcesContent":["// myFriendsPage.js\r\n// 这个文件主要处理\"我的好友\"页面的数据和逻辑\r\n\r\nimport { getStudentInfo, getStudentsList, getFriendsList, addFriend, removeFriend, getFriendRequests, handleFriendRequest, searchUsers } from '@/api/friends'\r\n\r\n// 获取学生详细信息\r\nexport const getStudentDetail = async (studentId) => {\r\n    try {\r\n        const response = await getStudentInfo(studentId);\r\n        return response.data || {};\r\n    } catch (error) {\r\n        console.error('获取学生详细信息失败:', error);\r\n        throw error;\r\n    }\r\n};\r\n\r\n// 查询校友数据列表\r\nexport const getAlumniList = async (queryParams = {}) => {\r\n    try {\r\n        const response = await getStudentsList(queryParams);\r\n        return {\r\n            total: response.total || 0,\r\n            list: response.rows || [],\r\n            code: response.code || 200,\r\n            message: response.msg || ''\r\n        };\r\n    } catch (error) {\r\n        console.error('查询校友数据列表失败:', error);\r\n        throw error;\r\n    }\r\n};\r\n\r\n// 构建校友查询参数\r\nexport const buildAlumniQueryParams = ({\r\n    id = '',\r\n    name = '',\r\n    academy = '',\r\n    classname = '',\r\n    studentNumber = '',\r\n    grade = '',\r\n    idCard = '',\r\n    phone = '',\r\n    email = '',\r\n    industry = '',\r\n    company = '',\r\n    userId = null,\r\n    createdAt = '',\r\n    updatedAt = '',\r\n    createBy = '',\r\n    createTime = '',\r\n    updateBy = '',\r\n    updateTime = '',\r\n    remark = '',\r\n    params = {}\r\n} = {}) => {\r\n    const queryParams = {};\r\n    \r\n    // 只添加非空参数\r\n    if (id) queryParams.id = id;\r\n    if (name) queryParams.name = name;\r\n    if (academy) queryParams.academy = academy;\r\n    if (classname) queryParams.classname = classname;\r\n    if (studentNumber) queryParams.studentNumber = studentNumber;\r\n    if (grade) queryParams.grade = grade;\r\n    if (idCard) queryParams.idCard = idCard;\r\n    if (phone) queryParams.phone = phone;\r\n    if (email) queryParams.email = email;\r\n    if (industry) queryParams.industry = industry;\r\n    if (company) queryParams.company = company;\r\n    if (userId !== null) queryParams.userId = userId;\r\n    if (createdAt) queryParams.createdAt = createdAt;\r\n    if (updatedAt) queryParams.updatedAt = updatedAt;\r\n    if (createBy) queryParams.createBy = createBy;\r\n    if (createTime) queryParams.createTime = createTime;\r\n    if (updateBy) queryParams.updateBy = updateBy;\r\n    if (updateTime) queryParams.updateTime = updateTime;\r\n    if (remark) queryParams.remark = remark;\r\n    \r\n    // 添加其他参数\r\n    if (params && typeof params === 'object') {\r\n        Object.keys(params).forEach(key => {\r\n            if (params[key] !== undefined && params[key] !== null && params[key] !== '') {\r\n                queryParams[`params.${key}`] = params[key];\r\n            }\r\n        });\r\n    }\r\n    \r\n    return queryParams;\r\n};\r\n\r\n// 使用示例函数\r\nexport const alumniListExample = async () => {\r\n    try {\r\n        // 示例1: 查询所有校友\r\n        const allAlumni = await getAlumniList();\r\n        console.log('所有校友:', allAlumni);\r\n        \r\n        // 示例2: 按条件查询校友\r\n        const queryParams = buildAlumniQueryParams({\r\n            name: '张三',\r\n            academy: '计算机学院',\r\n            grade: '2020',\r\n            industry: 'IT互联网'\r\n        });\r\n        const filteredAlumni = await getAlumniList(queryParams);\r\n        console.log('筛选后的校友:', filteredAlumni);\r\n        \r\n        // 示例3: 复杂查询\r\n        const complexQuery = buildAlumniQueryParams({\r\n            userId: 1,\r\n            company: '腾讯',\r\n            params: {\r\n                KEY: 'value'\r\n            }\r\n        });\r\n        const complexResult = await getAlumniList(complexQuery);\r\n        console.log('复杂查询结果:', complexResult);\r\n        \r\n        return {\r\n            allAlumni,\r\n            filteredAlumni,\r\n            complexResult\r\n        };\r\n    } catch (error) {\r\n        console.error('校友查询示例失败:', error);\r\n        throw error;\r\n    }\r\n};\r\n\r\n// 搜索用户\r\nexport const searchFriends = async (keyword) => {\r\n    try {\r\n        const response = await searchUsers(keyword);\r\n        return response.data || [];\r\n    } catch (error) {\r\n        console.error('搜索用户失败:', error);\r\n        throw error;\r\n    }\r\n};\r\n\r\n// 添加好友\r\nexport const addNewFriend = async (friendId) => {\r\n    try {\r\n        const response = await addFriend(friendId);\r\n        return response;\r\n    } catch (error) {\r\n        console.error('添加好友失败:', error);\r\n        throw error;\r\n    }\r\n};\r\n\r\n// 模拟好友分类数据\r\nconst mockFriendCategories = [\r\n    {\r\n        code: 'all',\r\n        name: '全部好友',\r\n        icon: 'user-heart',\r\n        color: '#FF5722',\r\n        count: '8/8'\r\n    },\r\n    {\r\n        code: 'friends',\r\n        name: '朋友',\r\n        icon: 'user-smile',\r\n        color: '#333333',\r\n        count: '3/3'\r\n    },\r\n    {\r\n        code: 'teachers',\r\n        name: '老师',\r\n        icon: 'book-open',\r\n        color: '#333333',\r\n        count: '1/1'\r\n    },\r\n    {\r\n        code: 'classmates',\r\n        name: '同学',\r\n        icon: 'graduation-cap',\r\n        color: '#2A6DCF',\r\n        count: '4/4'\r\n    },\r\n    {\r\n        code: 'alumni',\r\n        name: '校友',\r\n        icon: 'building-4',\r\n        color: '#333333',\r\n        count: '2/2'\r\n    }\r\n];\r\n\r\n// 模拟好友数据\r\nconst mockFriends = [\r\n    {\r\n        id: '001',\r\n        name: '张教授',\r\n        avatar: '/static/images/avatar/avatar1.png',\r\n        department: '计算机学院',\r\n        enrollYear: '2010',\r\n        major: '计算机科学与技术',\r\n        categories: ['all', 'teachers'],\r\n        phone: '13800138000',\r\n        wechat: 'zhangprof',\r\n        qq: '123456789',\r\n        email: 'zhang@example.com',\r\n        remark: ''\r\n    },\r\n    {\r\n        id: '002',\r\n        name: '李同学',\r\n        avatar: '/static/images/avatar/avatar2.png',\r\n        department: '计算机学院',\r\n        enrollYear: '2018',\r\n        major: '软件工程',\r\n        categories: ['all', 'classmates', 'friends'],\r\n        phone: '13900139000',\r\n        wechat: 'li_student',\r\n        qq: '987654321',\r\n        email: 'li@example.com',\r\n        remark: '前端开发小组组长'\r\n    },\r\n    {\r\n        id: '003',\r\n        name: '王同学',\r\n        avatar: '/static/images/avatar/avatar3.png',\r\n        department: '计算机学院',\r\n        enrollYear: '2018',\r\n        major: '人工智能',\r\n        categories: ['all', 'classmates'],\r\n        phone: '13700137000',\r\n        wechat: 'wang_ai',\r\n        qq: '456789123',\r\n        email: 'wang@example.com',\r\n        remark: ''\r\n    },\r\n    {\r\n        id: '004',\r\n        name: '赵同学',\r\n        avatar: '/static/images/avatar/avatar4.png',\r\n        department: '计算机学院',\r\n        enrollYear: '2018',\r\n        major: '网络工程',\r\n        categories: ['all', 'classmates'],\r\n        phone: '13600136000',\r\n        wechat: 'zhao_net',\r\n        qq: '789123456',\r\n        email: 'zhao@example.com',\r\n        remark: ''\r\n    },\r\n    {\r\n        id: '005',\r\n        name: '钱同学',\r\n        avatar: '/static/images/avatar/avatar5.png',\r\n        department: '计算机学院',\r\n        enrollYear: '2018',\r\n        major: '信息安全',\r\n        categories: ['all', 'classmates', 'friends'],\r\n        phone: '13500135000',\r\n        wechat: 'qian_security',\r\n        qq: '321654987',\r\n        email: 'qian@example.com',\r\n        remark: ''\r\n    },\r\n    {\r\n        id: '006',\r\n        name: '孙校友',\r\n        avatar: '/static/images/avatar/avatar6.png',\r\n        department: '计算机学院',\r\n        enrollYear: '2016',\r\n        major: '软件工程',\r\n        categories: ['all', 'alumni'],\r\n        phone: '13400134000',\r\n        wechat: 'sun_alumni',\r\n        qq: '654987321',\r\n        email: 'sun@example.com',\r\n        remark: '现就职于腾讯'\r\n    },\r\n    {\r\n        id: '007',\r\n        name: '周校友',\r\n        avatar: '/static/images/avatar/avatar7.png',\r\n        department: '计算机学院',\r\n        enrollYear: '2015',\r\n        major: '计算机科学与技术',\r\n        categories: ['all', 'alumni', 'friends'],\r\n        phone: '13300133000',\r\n        wechat: 'zhou_alumni',\r\n        qq: '159357486',\r\n        email: 'zhou@example.com',\r\n        remark: '现就职于阿里巴巴'\r\n    },\r\n    {\r\n        id: '008',\r\n        name: '吴同学',\r\n        avatar: '/static/images/avatar/avatar8.png',\r\n        department: '电子工程学院',\r\n        enrollYear: '2019',\r\n        major: '电子工程',\r\n        categories: ['all'],\r\n        phone: '13200132000',\r\n        wechat: 'wu_ee',\r\n        qq: '258369147',\r\n        email: 'wu@example.com',\r\n        remark: ''\r\n    }\r\n];\r\n\r\n// 模拟好友申请数据\r\nconst mockFriendRequests = [\r\n    {\r\n        id: 'req001',\r\n        userId: '101',\r\n        name: '朱同学',\r\n        avatar: '/static/images/avatar/avatar9.png',\r\n        department: '机械工程学院',\r\n        enrollYear: '2019',\r\n        major: '机械设计与制造',\r\n        message: '我是朱同学，想加你为好友',\r\n        time: '2023-09-15 14:30',\r\n        status: 'pending' // pending, accepted, rejected\r\n    },\r\n    {\r\n        id: 'req002',\r\n        userId: '102',\r\n        name: '陈教授',\r\n        avatar: '/static/images/avatar/avatar10.png',\r\n        department: '电子工程学院',\r\n        enrollYear: '2008',\r\n        major: '电子信息工程',\r\n        message: '我是电子工程学院的陈教授，看到你在论坛上发表的文章很有见解，希望加你为好友交流',\r\n        time: '2023-09-14 09:15',\r\n        status: 'pending'\r\n    },\r\n    {\r\n        id: 'req003',\r\n        userId: '103',\r\n        name: '刘校友',\r\n        avatar: '/static/images/avatar/avatar11.png',\r\n        department: '计算机学院',\r\n        enrollYear: '2015',\r\n        major: '信息安全',\r\n        message: '我是2015级信息安全专业毕业的刘校友，现在在华为工作，想和你交流一下',\r\n        time: '2023-09-12 16:45',\r\n        status: 'pending'\r\n    }\r\n];\r\n\r\n// 获取好友分类\r\nexport const getFriendCategories = () => {\r\n    return new Promise((resolve) => {\r\n        // 模拟API请求延迟\r\n        setTimeout(() => {\r\n            resolve(mockFriendCategories);\r\n        }, 300);\r\n    });\r\n};\r\n\r\n// 获取我的好友列表\r\nexport const getMyFriends = async () => {\r\n    try {\r\n        const response = await getFriendsList();\r\n        return response.data || [];\r\n    } catch (error) {\r\n        console.error('获取好友列表失败:', error);\r\n        // 如果API调用失败，返回模拟数据作为备用\r\n        return mockFriends;\r\n    }\r\n};\r\n\r\n// 获取好友申请列表\r\nexport const getMyFriendRequests = async () => {\r\n    try {\r\n        const response = await getFriendRequests();\r\n        return response.data || [];\r\n    } catch (error) {\r\n        console.error('获取好友申请列表失败:', error);\r\n        // 如果API调用失败，返回模拟数据作为备用\r\n        return mockFriendRequests;\r\n    }\r\n};\r\n\r\n// 删除好友\r\nexport const deleteFriend = async (friendId) => {\r\n    try {\r\n        const response = await removeFriend(friendId);\r\n        return response;\r\n    } catch (error) {\r\n        console.error('删除好友失败:', error);\r\n        throw error;\r\n    }\r\n};\r\n\r\n// 移动好友到指定分组\r\nexport const moveFriendToCategory = (friendId, categoryCode) => {\r\n    return new Promise((resolve) => {\r\n        // 模拟API请求延迟\r\n        setTimeout(() => {\r\n            // 实际应用中这里会调用后端API\r\n            console.log(`将好友 ${friendId} 移动到分组 ${categoryCode}`);\r\n            resolve({ success: true });\r\n        }, 800);\r\n    });\r\n};\r\n\r\n// 设置好友备注\r\nexport const setFriendRemark = (friendId, remark) => {\r\n    return new Promise((resolve) => {\r\n        // 模拟API请求延迟\r\n        setTimeout(() => {\r\n            // 实际应用中这里会调用后端API\r\n            console.log(`为好友 ${friendId} 设置备注: ${remark}`);\r\n            resolve({ success: true });\r\n        }, 800);\r\n    });\r\n};\r\n\r\n// 创建新分组\r\nexport const createCategory = (categoryName) => {\r\n    return new Promise((resolve) => {\r\n        // 模拟API请求延迟\r\n        setTimeout(() => {\r\n            // 实际应用中这里会调用后端API\r\n            const newCategory = {\r\n                code: `custom_${Date.now()}`,\r\n                name: categoryName,\r\n                icon: 'folder-user',\r\n                color: '#333333',\r\n                count: '0/0'\r\n            };\r\n            console.log(`创建新分组: ${categoryName}`);\r\n            resolve(newCategory);\r\n        }, 800);\r\n    });\r\n};\r\n\r\n// 删除分组\r\nexport const deleteCategory = (categoryCode) => {\r\n    return new Promise((resolve) => {\r\n        // 模拟API请求延迟\r\n        setTimeout(() => {\r\n            // 实际应用中这里会调用后端API\r\n            console.log(`删除分组: ${categoryCode}`);\r\n            resolve({ success: true });\r\n        }, 800);\r\n    });\r\n};\r\n\r\n// 重命名分组\r\nexport const renameCategory = (categoryCode, newName) => {\r\n    return new Promise((resolve) => {\r\n        // 模拟API请求延迟\r\n        setTimeout(() => {\r\n            // 实际应用中这里会调用后端API\r\n            console.log(`重命名分组 ${categoryCode} 为: ${newName}`);\r\n            resolve({ success: true });\r\n        }, 800);\r\n    });\r\n};\r\n\r\n// 处理好友申请（接受/拒绝）\r\nexport const handleMyFriendRequest = async (requestId, action) => {\r\n    try {\r\n        const response = await handleFriendRequest(requestId, action);\r\n        return response;\r\n    } catch (error) {\r\n        console.error('处理好友申请失败:', error);\r\n        throw error;\r\n    }\r\n};\r\n\r\n// 清空好友验证信息\r\nexport const clearFriendRequests = () => {\r\n    return new Promise((resolve) => {\r\n        // 模拟API请求延迟\r\n        setTimeout(() => {\r\n            // 实际应用中这里会调用后端API\r\n            console.log('清空所有好友验证信息');\r\n            \r\n            // 返回模拟数据\r\n            const result = {\r\n                success: true,\r\n                message: '已清空所有验证信息'\r\n            };\r\n            \r\n            resolve(result);\r\n        }, 1000);\r\n    });\r\n};\r\n","<template>\r\n\t<view class=\"page-container\">\r\n\t\t<!-- 自定义导航栏 -->\r\n\t\t<fui-nav-bar \r\n\t\t\ttitle=\"我的好友\" \r\n\t\t\tbackground=\"#004299\" \r\n\t\t\tcolor=\"#FFFFFF\" \r\n\t\t\tfontWeight=\"bold\" \r\n\t\t\t:splitLine=\"true\" \r\n\t\t\t:isFixed=\"true\"\r\n\t\t\t:isOccupy=\"true\"\r\n\t\t\t@leftClick=\"goBack\">\r\n\t\t\t<fui-icon name=\"arrowleft\" :color=\"'#FFFFFF'\" :size=\"36\"></fui-icon>\r\n\t\t\t<template v-slot:right>\r\n\t\t\t\t<view class=\"nav-right\">\r\n\t\t\t\t\t<!-- 只保留设置图标 -->\r\n\t\t\t\t\t<view @tap=\"openManage\">\r\n\t\t\t\t\t\t<fui-icon name=\"settings-3\" :color=\"'#FFFFFF'\" :size=\"36\"></fui-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</template>\r\n\t\t</fui-nav-bar>\r\n\t\t\r\n\t\t<!-- 内容区域 -->\r\n\t\t<view class=\"content-container\">\r\n\t\t\t<!-- 页面Tab切换 -->\r\n\t\t\t<view class=\"tab-container\">\r\n\t\t\t\t<view class=\"tab-item\" :class=\"currentTab === 'friends' ? 'tab-active' : ''\" @tap=\"switchTab('friends')\">\r\n\t\t\t\t\t<text class=\"tab-text\">好友列表</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 只保留一个徽章 -->\r\n\t\t\t\t<view class=\"tab-item\" :class=\"currentTab === 'requests' ? 'tab-active' : ''\" @tap=\"switchTab('requests')\">\r\n\t\t\t\t\t<text class=\"tab-text\">验证信息</text>\r\n\t\t\t\t\t<view class=\"tab-badge\" v-if=\"pendingRequestsCount > 0\">{{pendingRequestsCount}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 好友列表内容 -->\r\n\t\t\t<block v-if=\"currentTab === 'friends'\">\r\n\t\t\t\t<!-- 搜索区域 -->\r\n\t\t\t\t<view class=\"search-container\">\r\n\t\t\t\t\t<view class=\"search-box\">\r\n\t\t\t\t\t\t<fui-icon name=\"search\" :color=\"'#999'\" :size=\"36\"></fui-icon>\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\tclass=\"search-input\" \r\n\t\t\t\t\t\t\ttype=\"text\" \r\n\t\t\t\t\t\t\tplaceholder=\"搜索已添加的好友姓名\" \r\n\t\t\t\t\t\t\tv-model=\"searchText\"\r\n\t\t\t\t\t\t\t@input=\"searchFriends\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<fui-icon v-if=\"searchText\" name=\"clear\" :color=\"'#999'\" :size=\"36\" @tap=\"clearSearch\"></fui-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 分类入口区和好友列表区整合 -->\r\n\t\t\t\t<view class=\"category-container\" v-if=\"!isSearchMode\">\r\n\t\t\t\t\t<view class=\"category-card\">\r\n\t\t\t\t\t\t<view v-for=\"(category, index) in categories\" :key=\"index\" class=\"category-section\">\r\n\t\t\t\t\t\t\t<!-- 分类标题栏 -->\r\n\t\t\t\t\t\t\t<view class=\"category-item\" :class=\"{'active': expandedCategory === category.code}\" @tap=\"toggleCategory(category)\">\r\n\t\t\t\t\t\t\t\t<view class=\"category-left\">\r\n\t\t\t\t\t\t\t\t\t<fui-icon :name=\"category.icon\" :color=\"category.color\" :size=\"40\"></fui-icon>\r\n\t\t\t\t\t\t\t\t\t<text class=\"category-name\">{{category.name}}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"category-right\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"category-count\">{{category.count}}</text>\r\n\t\t\t\t\t\t\t\t\t<!-- 根据展开状态改变箭头方向 -->\r\n\t\t\t\t\t\t\t\t\t<view class=\"rotate-icon\" :class=\"{'down': expandedCategory === category.code}\">\r\n\t\t\t\t\t\t\t\t\t\t<fui-icon name=\"right\" :color=\"'#999'\" :size=\"32\"></fui-icon>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<!-- 该分类下的好友列表 -->\r\n\t\t\t\t\t\t\t<view class=\"category-friends\" v-if=\"expandedCategory === category.code\">\r\n\t\t\t\t\t\t\t\t<view class=\"friends-list\">\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"getCategoryFriends(category.code).length === 0\" class=\"no-friends\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"no-friends-text\">该分类下暂无好友</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-else v-for=\"(friend, friendIndex) in getCategoryFriends(category.code)\" \r\n\t\t\t\t\t\t\t\t\t\t:key=\"friend.id\" class=\"friend-item\" \r\n\t\t\t\t\t\t\t\t\t\t@tap=\"viewFriendDetail(friend)\" \r\n\t\t\t\t\t\t\t\t\t\t@longpress=\"showActionMenu(friend)\">\r\n\t\t\t\t\t\t\t\t\t\t<image class=\"friend-avatar\" :src=\"friend.avatar\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"friend-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"friend-name-row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"friend-name\">{{friend.name}}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"friend.remark\" class=\"friend-remark\">({{friend.remark}})</text>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"friend-detail\">{{friend.department}} | {{friend.enrollYear}}级</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"friend-major\" v-if=\"friend.major\">{{friend.major}}</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"friend-contact\" @tap.stop=\"showContactInfo(friend)\">\r\n\t\t\t\t\t\t\t\t\t\t\t<fui-icon name=\"contacts\" :color=\"'#2A6DCF'\" :size=\"40\"></fui-icon>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 搜索结果好友列表区域 -->\r\n\t\t\t\t<view class=\"friends-container search-results\" v-if=\"isSearchMode && currentFriends.length > 0\">\r\n\t\t\t\t\t<view class=\"list-header\">\r\n\t\t\t\t\t\t<text class=\"list-title\">搜索结果</text>\r\n\t\t\t\t\t\t<text class=\"list-count\">共{{currentFriends.length}}人</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"friends-list\">\r\n\t\t\t\t\t\t<view v-for=\"(friend, index) in currentFriends\" :key=\"friend.id\" \r\n\t\t\t\t\t\t\tclass=\"friend-item\" @tap=\"viewFriendDetail(friend)\" @longpress=\"showActionMenu(friend)\">\r\n\t\t\t\t\t\t\t<image class=\"friend-avatar\" :src=\"friend.avatar\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t<view class=\"friend-info\">\r\n\t\t\t\t\t\t\t\t<view class=\"friend-name-row\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"friend-name\">{{friend.name}}</text>\r\n\t\t\t\t\t\t\t\t\t<text v-if=\"friend.remark\" class=\"friend-remark\">({{friend.remark}})</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"friend-detail\">{{friend.department}} | {{friend.enrollYear}}级</view>\r\n\t\t\t\t\t\t\t\t<view class=\"friend-major\" v-if=\"friend.major\">{{friend.major}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"friend-contact\" @tap.stop=\"showContactInfo(friend)\">\r\n\t\t\t\t\t\t\t\t<fui-icon name=\"contacts\" :color=\"'#2A6DCF'\" :size=\"40\"></fui-icon>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 没有搜索结果时的提示 -->\r\n\t\t\t\t<view class=\"empty-container\" v-if=\"isSearchMode && currentFriends.length === 0\">\r\n\t\t\t\t\t<view class=\"empty-content\">\r\n\t\t\t\t\t\t<fui-icon name=\"search\" :color=\"'#cccccc'\" :size=\"80\"></fui-icon>\r\n\t\t\t\t\t\t<text class=\"empty-text\">未找到匹配的好友</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 空状态提示 -->\r\n\t\t\t\t<view class=\"empty-container\" v-if=\"showEmpty\">\r\n\t\t\t\t\t<view class=\"empty-content\">\r\n\t\t\t\t\t\t<fui-icon name=\"user-search\" :color=\"'#cccccc'\" :size=\"100\"></fui-icon>\r\n\t\t\t\t\t\t<text class=\"empty-text\">您还没有添加好友，请前往'发现校友'页面添加</text>\r\n\t\t\t\t\t\t<view class=\"empty-btn\" @tap=\"navigateToDiscover\">去发现校友</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t\t\r\n\t\t\t<!-- 好友验证信息内容 -->\r\n\t\t\t<block v-if=\"currentTab === 'requests'\">\r\n\t\t\t\t<view class=\"requests-container\">\r\n\t\t\t\t\t<!-- 调整验证信息标题与清空按钮样式 -->\r\n\t\t\t\t\t<view class=\"requests-header\" v-if=\"friendRequests.length > 0\">\r\n\t\t\t\t\t\t<text class=\"requests-title\">验证消息 ({{friendRequests.length}})</text>\r\n\t\t\t\t\t\t<view class=\"clear-btn\" @tap=\"clearFriendRequests\">清空验证信息</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view v-if=\"friendRequests.length === 0\" class=\"empty-container\">\r\n\t\t\t\t\t\t<view class=\"empty-content\">\r\n\t\t\t\t\t\t\t<fui-icon name=\"mail\" :color=\"'#cccccc'\" :size=\"80\"></fui-icon>\r\n\t\t\t\t\t\t\t<text class=\"empty-text\">暂无好友验证信息</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view v-else>\r\n\t\t\t\t\t\t<view class=\"request-card\" v-for=\"(request, index) in friendRequests\" :key=\"request.id\">\r\n\t\t\t\t\t\t\t<view class=\"request-header\">\r\n\t\t\t\t\t\t\t\t<image class=\"request-avatar\" :src=\"request.avatar\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"request-info\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"request-name-row\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"request-name\">{{request.name}}</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"request-status\" :class=\"'status-' + request.status\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{getStatusText(request.status)}}\r\n\t\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"request-detail\">{{request.department}} | {{request.enrollYear}}级 | {{request.major}}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<view class=\"request-message\">\r\n\t\t\t\t\t\t\t\t<text class=\"message-label\">验证信息：</text>\r\n\t\t\t\t\t\t\t\t<text class=\"message-content\">{{request.message}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<view class=\"request-time\">{{request.time}}</view>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<view class=\"request-actions\" v-if=\"request.status === 'pending'\">\r\n\t\t\t\t\t\t\t\t<view class=\"action-btn btn-agree\" @tap=\"handleRequest(request.id, 'accept')\">同意</view>\r\n\t\t\t\t\t\t\t\t<view class=\"action-btn btn-reject\" @tap=\"handleRequest(request.id, 'reject')\">拒绝</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 联系方式弹窗 -->\r\n\t\t<fui-bottom-popup :show=\"showContactPopup\" @close=\"closeContactPopup\">\r\n\t\t\t<view class=\"contact-popup\">\r\n\t\t\t\t<view class=\"contact-header\">\r\n\t\t\t\t\t<text class=\"contact-title\">联系方式</text>\r\n\t\t\t\t\t<fui-icon name=\"close\" :size=\"32\" :color=\"'#333'\" @tap=\"closeContactPopup\"></fui-icon>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"contact-content\">\r\n\t\t\t\t\t<view class=\"contact-info\">\r\n\t\t\t\t\t\t<view class=\"contact-item\" v-if=\"currentContact.phone\">\r\n\t\t\t\t\t\t\t<view class=\"contact-item-left\">\r\n\t\t\t\t\t\t\t\t<fui-icon name=\"phone\" :color=\"'#2A6DCF'\" :size=\"40\"></fui-icon>\r\n\t\t\t\t\t\t\t\t<text class=\"contact-label\">手机号：</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<text class=\"contact-value\">{{currentContact.phone}}</text>\r\n\t\t\t\t\t\t\t<view class=\"contact-action\" @tap=\"handlePhone(currentContact.phone)\">\r\n\t\t\t\t\t\t\t\t<fui-icon name=\"phone-fill\" :color=\"'#4CAF50'\" :size=\"40\"></fui-icon>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"contact-item\" v-if=\"currentContact.wechat\">\r\n\t\t\t\t\t\t\t<view class=\"contact-item-left\">\r\n\t\t\t\t\t\t\t\t<fui-icon name=\"wechat\" :color=\"'#2A6DCF'\" :size=\"40\"></fui-icon>\r\n\t\t\t\t\t\t\t\t<text class=\"contact-label\">微信号：</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<text class=\"contact-value\">{{currentContact.wechat}}</text>\r\n\t\t\t\t\t\t\t<view class=\"contact-action\" @tap=\"copyWechat(currentContact.wechat)\">\r\n\t\t\t\t\t\t\t\t<fui-icon name=\"copy\" :color=\"'#4CAF50'\" :size=\"40\"></fui-icon>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"contact-item\" v-if=\"currentContact.qq\">\r\n\t\t\t\t\t\t\t<view class=\"contact-item-left\">\r\n\t\t\t\t\t\t\t\t<fui-icon name=\"qq\" :color=\"'#2A6DCF'\" :size=\"40\"></fui-icon>\r\n\t\t\t\t\t\t\t\t<text class=\"contact-label\">QQ号：</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<text class=\"contact-value\">{{currentContact.qq}}</text>\r\n\t\t\t\t\t\t\t<view class=\"contact-action\" @tap=\"copyQQ(currentContact.qq)\">\r\n\t\t\t\t\t\t\t\t<fui-icon name=\"copy\" :color=\"'#4CAF50'\" :size=\"40\"></fui-icon>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"contact-item\" v-if=\"currentContact.email\">\r\n\t\t\t\t\t\t\t<view class=\"contact-item-left\">\r\n\t\t\t\t\t\t\t\t<fui-icon name=\"mail\" :color=\"'#2A6DCF'\" :size=\"40\"></fui-icon>\r\n\t\t\t\t\t\t\t\t<text class=\"contact-label\">邮箱：</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<text class=\"contact-value\">{{currentContact.email}}</text>\r\n\t\t\t\t\t\t\t<view class=\"contact-action\" @tap=\"copyEmail(currentContact.email)\">\r\n\t\t\t\t\t\t\t\t<fui-icon name=\"copy\" :color=\"'#4CAF50'\" :size=\"40\"></fui-icon>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"contact-privacy\">\r\n\t\t\t\t\t\t<text class=\"privacy-text\">联系方式仅对互为好友的用户可见</text>\r\n\t\t\t\t\t\t<text class=\"privacy-text\">请尊重他人隐私，勿随意传播联系信息</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</fui-bottom-popup>\r\n\t\t\r\n\t\t<!-- 操作菜单 -->\r\n\t\t<fui-actionsheet :show=\"showActionSheet\" :itemList=\"actionOptions\"\r\n\t\t\t@click=\"handleActionClick\" @cancel=\"closeActionSheet\"></fui-actionsheet>\r\n\t\t\t\r\n\t\t<!-- 确认对话框 -->\r\n\t\t<fui-dialog :show=\"showConfirmDialog\" title=\"删除好友\" content=\"确定删除该好友吗？删除后将无法查看对方联系方式\" \r\n\t\t\t@cancel=\"closeConfirmDialog\" @confirm=\"confirmDelete\"></fui-dialog>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { \r\n\t\tgetMyFriends, \r\n\t\tgetFriendCategories, \r\n\t\tdeleteFriend, \r\n\t\tmoveFriendToCategory,\r\n\t\tgetMyFriendRequests,\r\n\t\thandleMyFriendRequest,\r\n\t\tclearFriendRequests\r\n\t} from './myFriendsPage.js';\r\n\t\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 页面Tab\r\n\t\t\t\tcurrentTab: 'friends',\r\n\t\t\t\t\r\n\t\t\t\t// 搜索相关\r\n\t\t\t\tsearchText: '',\r\n\t\t\t\tisSearchMode: false,\r\n\t\t\t\t\r\n\t\t\t\t// 分类相关\r\n\t\t\t\tcategories: [],\r\n\t\t\t\tselectedCategory: null,\r\n\t\t\t\texpandedCategory: null,\r\n\t\t\t\t\r\n\t\t\t\t// 好友列表\r\n\t\t\t\tallFriends: [],\r\n\t\t\t\tcurrentFriends: [],\r\n\t\t\t\t\r\n\t\t\t\t// 好友申请\r\n\t\t\t\tfriendRequests: [],\r\n\t\t\t\t\r\n\t\t\t\t// 联系方式弹窗\r\n\t\t\t\tshowContactPopup: false,\r\n\t\t\t\tcurrentContact: {},\r\n\t\t\t\t\r\n\t\t\t\t// 操作菜单相关\r\n\t\t\t\tshowActionSheet: false,\r\n\t\t\t\tactionOptions: [\r\n\t\t\t\t\t{text: '设置备注', color: '#333333'},\r\n\t\t\t\t\t{text: '移动至其他分组', color: '#333333'},\r\n\t\t\t\t\t{text: '删除好友', color: '#FF0000'}\r\n\t\t\t\t],\r\n\t\t\t\tcurrentFriend: null,\r\n\t\t\t\t\r\n\t\t\t\t// 确认对话框\r\n\t\t\t\tshowConfirmDialog: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tshowEmpty() {\r\n\t\t\t\treturn this.allFriends.length === 0 && !this.isSearchMode && this.currentTab === 'friends';\r\n\t\t\t},\r\n\t\t\tpendingRequestsCount() {\r\n\t\t\t\treturn this.friendRequests.filter(req => req.status === 'pending').length;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.loadCategories();\r\n\t\t\tthis.loadFriends();\r\n\t\t\tthis.loadFriendRequests();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 切换Tab\r\n\t\t\tswitchTab(tab) {\r\n\t\t\t\tif (this.currentTab === tab) return;\r\n\t\t\t\tthis.currentTab = tab;\r\n\t\t\t\tthis.expandedCategory = null;\r\n\t\t\t\tthis.searchText = '';\r\n\t\t\t\tthis.isSearchMode = false;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 加载好友申请\r\n\t\t\tloadFriendRequests() {\r\n\t\t\t\tgetMyFriendRequests().then(res => {\r\n\t\t\t\t\tthis.friendRequests = res;\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.error('获取好友申请失败', err);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '获取好友申请失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 处理好友申请\r\n\t\t\thandleRequest(requestId, action) {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: action === 'accept' ? '正在接受...' : '正在拒绝...'\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\thandleMyFriendRequest(requestId, action).then(res => {\r\n\t\t\t\t\tif (res.success) {\r\n\t\t\t\t\t\t// 更新本地状态\r\n\t\t\t\t\t\tconst index = this.friendRequests.findIndex(req => req.id === requestId);\r\n\t\t\t\t\t\tif (index !== -1) {\r\n\t\t\t\t\t\t\tthis.friendRequests[index].status = res.status;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 如果接受了好友请求，需要重新加载好友列表\r\n\t\t\t\t\t\tif (action === 'accept') {\r\n\t\t\t\t\t\t\tthis.loadFriends();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: action === 'accept' ? '已同意' : '已拒绝',\r\n\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '操作失败，请重试',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.error('处理好友申请失败', err);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '操作失败，请重试',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}).finally(() => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 获取状态文本\r\n\t\t\tgetStatusText(status) {\r\n\t\t\t\tswitch(status) {\r\n\t\t\t\t\tcase 'pending': return '等待验证';\r\n\t\t\t\t\tcase 'accepted': return '已同意';\r\n\t\t\t\t\tcase 'rejected': return '已拒绝';\r\n\t\t\t\t\tdefault: return '';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 导航相关\r\n\t\t\tgoBack() {\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta: 1\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\topenManage() {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '分组管理功能开发中',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\t// 实际开发中跳转到管理页面\r\n\t\t\t\t// uni.navigateTo({\r\n\t\t\t\t//   url: '/pages/friendManagePage/friendManagePage'\r\n\t\t\t\t// });\r\n\t\t\t},\r\n\t\t\tnavigateToDiscover() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/discoverAlumniPage/discoverAlumniPage'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 数据加载\r\n\t\t\tloadCategories() {\r\n\t\t\t\tgetFriendCategories().then(res => {\r\n\t\t\t\t\tthis.categories = res;\r\n\t\t\t\t\t// 默认选中\"全部好友\"\r\n\t\t\t\t\tthis.selectedCategory = this.categories.find(item => item.code === 'all');\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.error('获取好友分类失败', err);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '获取好友分类失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tloadFriends() {\r\n\t\t\t\tgetMyFriends().then(res => {\r\n\t\t\t\t\tthis.allFriends = res;\r\n\t\t\t\t\tthis.filterFriends();\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.error('获取好友列表失败', err);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '获取好友列表失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 筛选好友列表\r\n\t\t\tfilterFriends() {\r\n\t\t\t\tif (this.isSearchMode) {\r\n\t\t\t\t\t// 搜索模式下的筛选\r\n\t\t\t\t\tconst searchText = this.searchText.toLowerCase();\r\n\t\t\t\t\tthis.currentFriends = this.allFriends.filter(friend => \r\n\t\t\t\t\t\tfriend.name.toLowerCase().includes(searchText) ||\r\n\t\t\t\t\t\tfriend.department.toLowerCase().includes(searchText) ||\r\n\t\t\t\t\t\tfriend.major.toLowerCase().includes(searchText)\r\n\t\t\t\t\t);\r\n\t\t\t\t} else if (this.selectedCategory) {\r\n\t\t\t\t\t// 分类筛选\r\n\t\t\t\t\tthis.currentFriends = this.getCategoryFriends(this.selectedCategory.code);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 显示所有好友\r\n\t\t\t\t\tthis.currentFriends = this.allFriends;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 分类与筛选\r\n\t\t\ttoggleCategory(category) {\r\n\t\t\t\t// 如果点击已展开的分类，则折叠\r\n\t\t\t\tif (this.expandedCategory === category.code) {\r\n\t\t\t\t\tthis.expandedCategory = null;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 否则展开当前分类，折叠其他分类\r\n\t\t\t\t\tthis.expandedCategory = category.code;\r\n\t\t\t\t}\r\n\t\t\t\tthis.selectedCategory = category;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 获取指定分类下的好友\r\n\t\t\tgetCategoryFriends(categoryCode) {\r\n\t\t\t\treturn this.allFriends.filter(\r\n\t\t\t\t\tfriend => friend.categories && friend.categories.includes(categoryCode)\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 搜索功能\r\n\t\t\tsearchFriends() {\r\n\t\t\t\tif (!this.searchText.trim()) {\r\n\t\t\t\t\tthis.isSearchMode = false;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.isSearchMode = true;\r\n\t\t\t\t// 搜索时关闭所有展开的分类\r\n\t\t\t\tthis.expandedCategory = null;\r\n\t\t\t\t\r\n\t\t\t\tconst keyword = this.searchText.toLowerCase().trim();\r\n\t\t\t\tthis.currentFriends = this.allFriends.filter(friend => {\r\n\t\t\t\t\treturn friend.name.toLowerCase().includes(keyword) || \r\n\t\t\t\t\t\t   (friend.department && friend.department.toLowerCase().includes(keyword)) ||\r\n\t\t\t\t\t\t   (friend.remark && friend.remark.toLowerCase().includes(keyword)) ||\r\n\t\t\t\t\t\t   (friend.enrollYear && friend.enrollYear.toString().includes(keyword));\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tclearSearch() {\r\n\t\t\t\tthis.searchText = '';\r\n\t\t\t\tthis.isSearchMode = false;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 好友操作\r\n\t\t\tviewFriendDetail(friend) {\r\n\t\t\t\t// 查看好友详情，可以跳转到详情页面\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '好友详情功能开发中',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\t// 实际开发中跳转到好友详情页\r\n\t\t\t\t// uni.navigateTo({\r\n\t\t\t\t//   url: `/pages/friendDetailPage/friendDetailPage?id=${friend.id}`\r\n\t\t\t\t// });\r\n\t\t\t},\r\n\t\t\tshowContactInfo(friend) {\r\n\t\t\t\t// 显示联系方式\r\n\t\t\t\tthis.currentContact = {\r\n\t\t\t\t\tphone: friend.phone || '',\r\n\t\t\t\t\twechat: friend.wechat || '',\r\n\t\t\t\t\tqq: friend.qq || '',\r\n\t\t\t\t\temail: friend.email || ''\r\n\t\t\t\t};\r\n\t\t\t\tthis.showContactPopup = true;\r\n\t\t\t},\r\n\t\t\tcloseContactPopup() {\r\n\t\t\t\tthis.showContactPopup = false;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 联系方式操作\r\n\t\t\thandlePhone(phone) {\r\n\t\t\t\tuni.makePhoneCall({\r\n\t\t\t\t\tphoneNumber: phone,\r\n\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '拨打电话失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tcopyWechat(wechat) {\r\n\t\t\t\tuni.setClipboardData({\r\n\t\t\t\t\tdata: wechat,\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '微信号已复制',\r\n\t\t\t\t\t\t\tcontent: '是否打开微信？',\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t// 尝试打开微信\r\n\t\t\t\t\t\t\t\t\tplus.runtime.openURL('weixin://');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tcopyQQ(qq) {\r\n\t\t\t\tuni.setClipboardData({\r\n\t\t\t\t\tdata: qq,\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: 'QQ号已复制',\r\n\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tcopyEmail(email) {\r\n\t\t\t\tuni.setClipboardData({\r\n\t\t\t\t\tdata: email,\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '邮箱已复制',\r\n\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 操作菜单\r\n\t\t\tshowActionMenu(friend) {\r\n\t\t\t\tthis.currentFriend = friend;\r\n\t\t\t\tthis.showActionSheet = true;\r\n\t\t\t},\r\n\t\t\tcloseActionSheet() {\r\n\t\t\t\tthis.showActionSheet = false;\r\n\t\t\t},\r\n\t\t\thandleActionClick(e) {\r\n\t\t\t\tconst index = e.index;\r\n\t\t\t\tif (index === 0) {\r\n\t\t\t\t\t// 设置备注\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '设置备注功能开发中',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (index === 1) {\r\n\t\t\t\t\t// 移动至其他分组\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '移动分组功能开发中',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (index === 2) {\r\n\t\t\t\t\t// 删除好友\r\n\t\t\t\t\tthis.showConfirmDialog = true;\r\n\t\t\t\t}\r\n\t\t\t\tthis.closeActionSheet();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 确认对话框\r\n\t\t\tcloseConfirmDialog() {\r\n\t\t\t\tthis.showConfirmDialog = false;\r\n\t\t\t},\r\n\t\t\tconfirmDelete() {\r\n\t\t\t\tif (!this.currentFriend) {\r\n\t\t\t\t\tthis.closeConfirmDialog();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdeleteFriend(this.currentFriend.id).then(() => {\r\n\t\t\t\t\t// 删除成功后刷新列表\r\n\t\t\t\t\tthis.allFriends = this.allFriends.filter(f => f.id !== this.currentFriend.id);\r\n\t\t\t\t\tthis.filterFriends();\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '删除成功',\r\n\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t});\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.error('删除好友失败', err);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '删除好友失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}).finally(() => {\r\n\t\t\t\t\tthis.closeConfirmDialog();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 清空好友验证信息\r\n\t\t\tclearFriendRequests() {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '确认清空',\r\n\t\t\t\t\tcontent: '确定要清空所有验证信息吗？',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t\ttitle: '正在清空...'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tclearFriendRequests().then(res => {\r\n\t\t\t\t\t\t\t\tif (res.success) {\r\n\t\t\t\t\t\t\t\t\tthis.friendRequests = [];\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '已清空验证信息',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '清空失败，请重试',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t\t\t\tconsole.error('清空验证信息失败', err);\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '清空失败，请重试',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t@import url(\"./myFriendsPage.css\");\r\n</style>\r\n","import MiniProgramPage from 'D:/code/cfecer/xiaoyouhui-xiaochengxu/pages/myFriendsPage/myFriendsPage.vue'\nwx.createPage(MiniProgramPage)"],"names":["getFriendsList","uni","getFriendRequests","removeFriend","handleFriendRequest","res"],"mappings":";;;AAwJA,MAAM,uBAAuB;AAAA,EACzB;AAAA,IACI,MAAM;AAAA,IACN,MAAM;AAAA,IACN,MAAM;AAAA,IACN,OAAO;AAAA,IACP,OAAO;AAAA,EACV;AAAA,EACD;AAAA,IACI,MAAM;AAAA,IACN,MAAM;AAAA,IACN,MAAM;AAAA,IACN,OAAO;AAAA,IACP,OAAO;AAAA,EACV;AAAA,EACD;AAAA,IACI,MAAM;AAAA,IACN,MAAM;AAAA,IACN,MAAM;AAAA,IACN,OAAO;AAAA,IACP,OAAO;AAAA,EACV;AAAA,EACD;AAAA,IACI,MAAM;AAAA,IACN,MAAM;AAAA,IACN,MAAM;AAAA,IACN,OAAO;AAAA,IACP,OAAO;AAAA,EACV;AAAA,EACD;AAAA,IACI,MAAM;AAAA,IACN,MAAM;AAAA,IACN,MAAM;AAAA,IACN,OAAO;AAAA,IACP,OAAO;AAAA,EACV;AACL;AAGA,MAAM,cAAc;AAAA,EAChB;AAAA,IACI,IAAI;AAAA,IACJ,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,YAAY,CAAC,OAAO,UAAU;AAAA,IAC9B,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,IAAI;AAAA,IACJ,OAAO;AAAA,IACP,QAAQ;AAAA,EACX;AAAA,EACD;AAAA,IACI,IAAI;AAAA,IACJ,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,YAAY,CAAC,OAAO,cAAc,SAAS;AAAA,IAC3C,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,IAAI;AAAA,IACJ,OAAO;AAAA,IACP,QAAQ;AAAA,EACX;AAAA,EACD;AAAA,IACI,IAAI;AAAA,IACJ,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,YAAY,CAAC,OAAO,YAAY;AAAA,IAChC,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,IAAI;AAAA,IACJ,OAAO;AAAA,IACP,QAAQ;AAAA,EACX;AAAA,EACD;AAAA,IACI,IAAI;AAAA,IACJ,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,YAAY,CAAC,OAAO,YAAY;AAAA,IAChC,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,IAAI;AAAA,IACJ,OAAO;AAAA,IACP,QAAQ;AAAA,EACX;AAAA,EACD;AAAA,IACI,IAAI;AAAA,IACJ,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,YAAY,CAAC,OAAO,cAAc,SAAS;AAAA,IAC3C,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,IAAI;AAAA,IACJ,OAAO;AAAA,IACP,QAAQ;AAAA,EACX;AAAA,EACD;AAAA,IACI,IAAI;AAAA,IACJ,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,YAAY,CAAC,OAAO,QAAQ;AAAA,IAC5B,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,IAAI;AAAA,IACJ,OAAO;AAAA,IACP,QAAQ;AAAA,EACX;AAAA,EACD;AAAA,IACI,IAAI;AAAA,IACJ,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,YAAY,CAAC,OAAO,UAAU,SAAS;AAAA,IACvC,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,IAAI;AAAA,IACJ,OAAO;AAAA,IACP,QAAQ;AAAA,EACX;AAAA,EACD;AAAA,IACI,IAAI;AAAA,IACJ,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,YAAY,CAAC,KAAK;AAAA,IAClB,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,IAAI;AAAA,IACJ,OAAO;AAAA,IACP,QAAQ;AAAA,EACX;AACL;AAGA,MAAM,qBAAqB;AAAA,EACvB;AAAA,IACI,IAAI;AAAA,IACJ,QAAQ;AAAA,IACR,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,SAAS;AAAA,IACT,MAAM;AAAA,IACN,QAAQ;AAAA;AAAA,EACX;AAAA,EACD;AAAA,IACI,IAAI;AAAA,IACJ,QAAQ;AAAA,IACR,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,SAAS;AAAA,IACT,MAAM;AAAA,IACN,QAAQ;AAAA,EACX;AAAA,EACD;AAAA,IACI,IAAI;AAAA,IACJ,QAAQ;AAAA,IACR,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,YAAY;AAAA,IACZ,YAAY;AAAA,IACZ,OAAO;AAAA,IACP,SAAS;AAAA,IACT,MAAM;AAAA,IACN,QAAQ;AAAA,EACX;AACL;AAGO,MAAM,sBAAsB,MAAM;AACrC,SAAO,IAAI,QAAQ,CAAC,YAAY;AAE5B,eAAW,MAAM;AACb,cAAQ,oBAAoB;AAAA,IAC/B,GAAE,GAAG;AAAA,EACd,CAAK;AACL;AAGO,MAAM,eAAe,YAAY;AACpC,MAAI;AACA,UAAM,WAAW,MAAMA,YAAAA;AACvB,WAAO,SAAS,QAAQ;EAC3B,SAAQ,OAAO;AACZC,kBAAA,MAAA,MAAA,SAAA,+CAAc,aAAa,KAAK;AAEhC,WAAO;AAAA,EACV;AACL;AAGO,MAAM,sBAAsB,YAAY;AAC3C,MAAI;AACA,UAAM,WAAW,MAAMC,YAAAA;AACvB,WAAO,SAAS,QAAQ;EAC3B,SAAQ,OAAO;AACZD,kBAAA,MAAA,MAAA,SAAA,+CAAc,eAAe,KAAK;AAElC,WAAO;AAAA,EACV;AACL;AAGO,MAAM,eAAe,OAAO,aAAa;AAC5C,MAAI;AACA,UAAM,WAAW,MAAME,yBAAa,QAAQ;AAC5C,WAAO;AAAA,EACV,SAAQ,OAAO;AACZF,kBAAc,MAAA,MAAA,SAAA,+CAAA,WAAW,KAAK;AAC9B,UAAM;AAAA,EACT;AACL;AAsEO,MAAM,wBAAwB,OAAO,WAAW,WAAW;AAC9D,MAAI;AACA,UAAM,WAAW,MAAMG,YAAAA,oBAAoB,WAAW,MAAM;AAC5D,WAAO;AAAA,EACV,SAAQ,OAAO;AACZH,kBAAA,MAAA,MAAA,SAAA,+CAAc,aAAa,KAAK;AAChC,UAAM;AAAA,EACT;AACL;AAGO,MAAM,sBAAsB,MAAM;AACrC,SAAO,IAAI,QAAQ,CAAC,YAAY;AAE5B,eAAW,MAAM;AAEbA,oBAAAA,MAAY,MAAA,OAAA,+CAAA,YAAY;AAGxB,YAAM,SAAS;AAAA,QACX,SAAS;AAAA,QACT,SAAS;AAAA,MACzB;AAEY,cAAQ,MAAM;AAAA,IACjB,GAAE,GAAI;AAAA,EACf,CAAK;AACL;ACtNC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA;AAAA,MAEN,YAAY;AAAA;AAAA,MAGZ,YAAY;AAAA,MACZ,cAAc;AAAA;AAAA,MAGd,YAAY,CAAE;AAAA,MACd,kBAAkB;AAAA,MAClB,kBAAkB;AAAA;AAAA,MAGlB,YAAY,CAAE;AAAA,MACd,gBAAgB,CAAE;AAAA;AAAA,MAGlB,gBAAgB,CAAE;AAAA;AAAA,MAGlB,kBAAkB;AAAA,MAClB,gBAAgB,CAAE;AAAA;AAAA,MAGlB,iBAAiB;AAAA,MACjB,eAAe;AAAA,QACd,EAAC,MAAM,QAAQ,OAAO,UAAS;AAAA,QAC/B,EAAC,MAAM,WAAW,OAAO,UAAS;AAAA,QAClC,EAAC,MAAM,QAAQ,OAAO,UAAS;AAAA,MAC/B;AAAA,MACD,eAAe;AAAA;AAAA,MAGf,mBAAmB;AAAA,IACpB;AAAA,EACA;AAAA,EACD,UAAU;AAAA,IACT,YAAY;AACX,aAAO,KAAK,WAAW,WAAW,KAAK,CAAC,KAAK,gBAAgB,KAAK,eAAe;AAAA,IACjF;AAAA,IACD,uBAAuB;AACtB,aAAO,KAAK,eAAe,OAAO,SAAO,IAAI,WAAW,SAAS,EAAE;AAAA,IACpE;AAAA,EACA;AAAA,EACD,SAAS;AACR,SAAK,eAAc;AACnB,SAAK,YAAW;AAChB,SAAK,mBAAkB;AAAA,EACvB;AAAA,EACD,SAAS;AAAA;AAAA,IAER,UAAU,KAAK;AACd,UAAI,KAAK,eAAe;AAAK;AAC7B,WAAK,aAAa;AAClB,WAAK,mBAAmB;AACxB,WAAK,aAAa;AAClB,WAAK,eAAe;AAAA,IACpB;AAAA;AAAA,IAGD,qBAAqB;AACpB,0BAAqB,EAAC,KAAK,SAAO;AACjC,aAAK,iBAAiB;AAAA,MACvB,CAAC,EAAE,MAAM,SAAO;AACfA,2FAAc,YAAY,GAAG;AAC7BA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AAAA,MACF,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,cAAc,WAAW,QAAQ;AAChCA,oBAAAA,MAAI,YAAY;AAAA,QACf,OAAO,WAAW,WAAW,YAAY;AAAA,MAC1C,CAAC;AAED,4BAAsB,WAAW,MAAM,EAAE,KAAK,SAAO;AACpD,YAAI,IAAI,SAAS;AAEhB,gBAAM,QAAQ,KAAK,eAAe,UAAU,SAAO,IAAI,OAAO,SAAS;AACvE,cAAI,UAAU,IAAI;AACjB,iBAAK,eAAe,KAAK,EAAE,SAAS,IAAI;AAAA,UACzC;AAGA,cAAI,WAAW,UAAU;AACxB,iBAAK,YAAW;AAAA,UACjB;AAEAA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO,WAAW,WAAW,QAAQ;AAAA,YACrC,MAAM;AAAA,UACP,CAAC;AAAA,eACK;AACNA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,MAAM;AAAA,UACP,CAAC;AAAA,QACF;AAAA,MACD,CAAC,EAAE,MAAM,SAAO;AACfA,2FAAc,YAAY,GAAG;AAC7BA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AAAA,MACF,CAAC,EAAE,QAAQ,MAAM;AAChBA,sBAAG,MAAC,YAAW;AAAA,MAChB,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,cAAc,QAAQ;AACrB,cAAO,QAAM;AAAA,QACZ,KAAK;AAAW,iBAAO;AAAA,QACvB,KAAK;AAAY,iBAAO;AAAA,QACxB,KAAK;AAAY,iBAAO;AAAA,QACxB;AAAS,iBAAO;AAAA,MACjB;AAAA,IACA;AAAA;AAAA,IAGD,SAAS;AACRA,oBAAAA,MAAI,aAAa;AAAA,QAChB,OAAO;AAAA,MACR,CAAC;AAAA,IACD;AAAA,IACD,aAAa;AACZA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,MAAM;AAAA,MACP,CAAC;AAAA,IAKD;AAAA,IACD,qBAAqB;AACpBA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACN,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,iBAAiB;AAChB,0BAAqB,EAAC,KAAK,SAAO;AACjC,aAAK,aAAa;AAElB,aAAK,mBAAmB,KAAK,WAAW,KAAK,UAAQ,KAAK,SAAS,KAAK;AAAA,MACzE,CAAC,EAAE,MAAM,SAAO;AACfA,2FAAc,YAAY,GAAG;AAC7BA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AAAA,MACF,CAAC;AAAA,IACD;AAAA,IACD,cAAc;AACb,mBAAc,EAAC,KAAK,SAAO;AAC1B,aAAK,aAAa;AAClB,aAAK,cAAa;AAAA,MACnB,CAAC,EAAE,MAAM,SAAO;AACfA,2FAAc,YAAY,GAAG;AAC7BA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AAAA,MACF,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,gBAAgB;AACf,UAAI,KAAK,cAAc;AAEtB,cAAM,aAAa,KAAK,WAAW,YAAW;AAC9C,aAAK,iBAAiB,KAAK,WAAW;AAAA,UAAO,YAC5C,OAAO,KAAK,cAAc,SAAS,UAAU,KAC7C,OAAO,WAAW,cAAc,SAAS,UAAU,KACnD,OAAO,MAAM,cAAc,SAAS,UAAU;AAAA;MAEhD,WAAW,KAAK,kBAAkB;AAEjC,aAAK,iBAAiB,KAAK,mBAAmB,KAAK,iBAAiB,IAAI;AAAA,aAClE;AAEN,aAAK,iBAAiB,KAAK;AAAA,MAC5B;AAAA,IACA;AAAA;AAAA,IAGD,eAAe,UAAU;AAExB,UAAI,KAAK,qBAAqB,SAAS,MAAM;AAC5C,aAAK,mBAAmB;AAAA,aAClB;AAEN,aAAK,mBAAmB,SAAS;AAAA,MAClC;AACA,WAAK,mBAAmB;AAAA,IACxB;AAAA;AAAA,IAGD,mBAAmB,cAAc;AAChC,aAAO,KAAK,WAAW;AAAA,QACtB,YAAU,OAAO,cAAc,OAAO,WAAW,SAAS,YAAY;AAAA;IAEvE;AAAA;AAAA,IAGD,gBAAgB;AACf,UAAI,CAAC,KAAK,WAAW,QAAQ;AAC5B,aAAK,eAAe;AACpB;AAAA,MACD;AAEA,WAAK,eAAe;AAEpB,WAAK,mBAAmB;AAExB,YAAM,UAAU,KAAK,WAAW,YAAa,EAAC,KAAI;AAClD,WAAK,iBAAiB,KAAK,WAAW,OAAO,YAAU;AACtD,eAAO,OAAO,KAAK,YAAW,EAAG,SAAS,OAAO,KAC5C,OAAO,cAAc,OAAO,WAAW,cAAc,SAAS,OAAO,KACrE,OAAO,UAAU,OAAO,OAAO,cAAc,SAAS,OAAO,KAC7D,OAAO,cAAc,OAAO,WAAW,SAAQ,EAAG,SAAS,OAAO;AAAA,MACxE,CAAC;AAAA,IACD;AAAA,IACD,cAAc;AACb,WAAK,aAAa;AAClB,WAAK,eAAe;AAAA,IACpB;AAAA;AAAA,IAGD,iBAAiB,QAAQ;AAExBA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,MAAM;AAAA,MACP,CAAC;AAAA,IAKD;AAAA,IACD,gBAAgB,QAAQ;AAEvB,WAAK,iBAAiB;AAAA,QACrB,OAAO,OAAO,SAAS;AAAA,QACvB,QAAQ,OAAO,UAAU;AAAA,QACzB,IAAI,OAAO,MAAM;AAAA,QACjB,OAAO,OAAO,SAAS;AAAA;AAExB,WAAK,mBAAmB;AAAA,IACxB;AAAA,IACD,oBAAoB;AACnB,WAAK,mBAAmB;AAAA,IACxB;AAAA;AAAA,IAGD,YAAY,OAAO;AAClBA,oBAAAA,MAAI,cAAc;AAAA,QACjB,aAAa;AAAA,QACb,MAAM,MAAM;AACXA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,MAAM;AAAA,UACP,CAAC;AAAA,QACF;AAAA,MACD,CAAC;AAAA,IACD;AAAA,IACD,WAAW,QAAQ;AAClBA,oBAAAA,MAAI,iBAAiB;AAAA,QACpB,MAAM;AAAA,QACN,SAAS,MAAM;AACdA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,SAAS;AAAA,YACT,SAAS,CAAC,QAAQ;AACjB,kBAAI,IAAI,SAAS;AAEhB,qBAAK,QAAQ,QAAQ,WAAW;AAAA,cACjC;AAAA,YACD;AAAA,UACD,CAAC;AAAA,QACF;AAAA,MACD,CAAC;AAAA,IACD;AAAA,IACD,OAAO,IAAI;AACVA,oBAAAA,MAAI,iBAAiB;AAAA,QACpB,MAAM;AAAA,QACN,SAAS,MAAM;AACdA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,MAAM;AAAA,UACP,CAAC;AAAA,QACF;AAAA,MACD,CAAC;AAAA,IACD;AAAA,IACD,UAAU,OAAO;AAChBA,oBAAAA,MAAI,iBAAiB;AAAA,QACpB,MAAM;AAAA,QACN,SAAS,MAAM;AACdA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,MAAM;AAAA,UACP,CAAC;AAAA,QACF;AAAA,MACD,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,eAAe,QAAQ;AACtB,WAAK,gBAAgB;AACrB,WAAK,kBAAkB;AAAA,IACvB;AAAA,IACD,mBAAmB;AAClB,WAAK,kBAAkB;AAAA,IACvB;AAAA,IACD,kBAAkB,GAAG;AACpB,YAAM,QAAQ,EAAE;AAChB,UAAI,UAAU,GAAG;AAEhBA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AAAA,MACF,WAAW,UAAU,GAAG;AAEvBA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AAAA,MACF,WAAW,UAAU,GAAG;AAEvB,aAAK,oBAAoB;AAAA,MAC1B;AACA,WAAK,iBAAgB;AAAA,IACrB;AAAA;AAAA,IAGD,qBAAqB;AACpB,WAAK,oBAAoB;AAAA,IACzB;AAAA,IACD,gBAAgB;AACf,UAAI,CAAC,KAAK,eAAe;AACxB,aAAK,mBAAkB;AACvB;AAAA,MACD;AAEA,mBAAa,KAAK,cAAc,EAAE,EAAE,KAAK,MAAM;AAE9C,aAAK,aAAa,KAAK,WAAW,OAAO,OAAK,EAAE,OAAO,KAAK,cAAc,EAAE;AAC5E,aAAK,cAAa;AAClBA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AAAA,MACF,CAAC,EAAE,MAAM,SAAO;AACfA,2FAAc,UAAU,GAAG;AAC3BA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AAAA,MACF,CAAC,EAAE,QAAQ,MAAM;AAChB,aAAK,mBAAkB;AAAA,MACxB,CAAC;AAAA,IACD;AAAA;AAAA,IAGD,sBAAsB;AACrBA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AACjB,cAAI,IAAI,SAAS;AAChBA,0BAAAA,MAAI,YAAY;AAAA,cACf,OAAO;AAAA,YACR,CAAC;AAED,gCAAqB,EAAC,KAAK,CAAAI,SAAO;AACjC,kBAAIA,KAAI,SAAS;AAChB,qBAAK,iBAAiB;AACtBJ,8BAAAA,MAAI,UAAU;AAAA,kBACb,OAAO;AAAA,kBACP,MAAM;AAAA,gBACP,CAAC;AAAA,qBACK;AACNA,8BAAAA,MAAI,UAAU;AAAA,kBACb,OAAO;AAAA,kBACP,MAAM;AAAA,gBACP,CAAC;AAAA,cACF;AAAA,YACD,CAAC,EAAE,MAAM,SAAO;AACfA,4BAAA,MAAA,MAAA,SAAA,gDAAc,YAAY,GAAG;AAC7BA,4BAAAA,MAAI,UAAU;AAAA,gBACb,OAAO;AAAA,gBACP,MAAM;AAAA,cACP,CAAC;AAAA,YACF,CAAC,EAAE,QAAQ,MAAM;AAChBA,4BAAG,MAAC,YAAW;AAAA,YAChB,CAAC;AAAA,UACF;AAAA,QACD;AAAA,MACD,CAAC;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzqBD,GAAG,WAAW,eAAe;"}