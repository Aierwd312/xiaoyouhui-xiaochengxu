{"version":3,"file":"schoolNewsPage.js","sources":["pages/schoolNewsPage/schoolNewsPage.vue","../../../apps/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc2Nob29sTmV3c1BhZ2Uvc2Nob29sTmV3c1BhZ2UudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"news-page\">\r\n\t\t<!-- 导航栏 -->\r\n\t\t<fui-nav-bar\r\n\t\t\t:statusBar=\"true\"\r\n\t\t\ttitle=\"母校资讯\"\r\n\t\t\t:background=\"'#004299'\"\r\n\t\t\t:color=\"'#FFFFFF'\"\r\n\t\t\t:size=\"18\"\r\n\t\t\t:isFixed=\"true\"\r\n\t\t\t:fontWeight=\"500\"\r\n\t\t\t@init=\"navbarInit\">\r\n\t\t</fui-nav-bar>\r\n\t\t\r\n\t\t<!-- 内容区域 -->\r\n\t\t<view class=\"content-area\" :style=\"{ marginTop: navHeight + 'px' }\">\r\n\t\t\t<!-- 搜索栏 -->\r\n\t\t\t<view class=\"search-section\">\r\n\t\t\t\t<view class=\"search-bar\">\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\tclass=\"search-input\" \r\n\t\t\t\t\t\tplaceholder=\"搜索新闻标题...\"\r\n\t\t\t\t\t\tv-model=\"searchTitle\"\r\n\t\t\t\t\t\t@confirm=\"handleSearch\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<view class=\"search-btn\" @tap=\"handleSearch\">\r\n\t\t\t\t\t\t<image src=\"/static/search-line.svg\" class=\"search-icon svg-icon svg-white\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 功能按钮区域 -->\r\n\t\t\t<view class=\"action-section\">\r\n\t\t\t\t<view class=\"action-btn export-btn\" @tap=\"handleExportNews\">\r\n\t\t\t\t\t<image src=\"/static/download-line.svg\" class=\"action-icon svg-icon svg-white\"></image>\r\n\t\t\t\t\t<text class=\"action-text\">导出列表</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"action-btn refresh-btn\" @tap=\"handleRefresh\">\r\n\t\t\t\t\t<image src=\"/static/refresh-line.svg\" class=\"action-icon svg-icon svg-white\"></image>\r\n\t\t\t\t\t<text class=\"action-text\">刷新</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 新闻列表 -->\r\n\t\t\t<view class=\"news-list\">\r\n\t\t\t\t<view \r\n\t\t\t\t\tclass=\"news-item\" \r\n\t\t\t\t\tv-for=\"(item, index) in newsList\" \r\n\t\t\t\t\t:key=\"item.id\"\r\n\t\t\t\t\t@tap=\"handleNewsClick(item)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<view class=\"news-image\" v-if=\"item.backgroundImage\">\r\n\t\t\t\t\t\t<image :src=\"getImageUrl(item.backgroundImage)\" class=\"news-img\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"news-content\" :class=\"{'no-image': !item.backgroundImage}\">\r\n\t\t\t\t\t\t<view class=\"news-title\">{{ item.title }}</view>\r\n\t\t\t\t\t\t<view class=\"news-meta\">\r\n\t\t\t\t\t\t\t<text class=\"news-time\">{{ formatTime(item.createTime) }}</text>\r\n\t\t\t\t\t\t\t<text class=\"news-author\" v-if=\"item.createBy\">{{ item.createBy }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"news-remark\" v-if=\"item.remark\">{{ item.remark }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"news-action\">\r\n\t\t\t\t\t\t<image src=\"/static/arrow-right-s-line.svg\" class=\"action-arrow svg-icon svg-hint\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 加载更多 -->\r\n\t\t\t<view class=\"load-more\" v-if=\"hasMore && !loading\">\r\n\t\t\t\t<view class=\"load-more-btn\" @tap=\"loadMore\">\r\n\t\t\t\t\t<text class=\"load-more-text\">加载更多</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 加载中 -->\r\n\t\t\t<view class=\"loading\" v-if=\"loading\">\r\n\t\t\t\t<text class=\"loading-text\">加载中...</text>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 暂无数据 -->\r\n\t\t\t<view class=\"no-data\" v-if=\"!loading && newsList.length === 0\">\r\n\t\t\t\t<image src=\"/static/inbox-line.svg\" class=\"no-data-icon svg-icon svg-gray\"></image>\r\n\t\t\t\t<text class=\"no-data-text\">暂无新闻数据</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { getNewsList, getNewsDetail, exportNewsList } from '@/api/news'\r\n\t\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tnavHeight: 44,\r\n\t\t\t\tsearchTitle: '',\r\n\t\t\t\tnewsList: [],\r\n\t\t\t\tloading: false,\r\n\t\t\t\thasMore: true,\r\n\t\t\t\tpageNum: 1,\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t\ttotal: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.loadNewsList()\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\t// 页面显示时刷新数据\r\n\t\t\tthis.handleRefresh()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 导航栏初始化\r\n\t\t\tnavbarInit(e) {\r\n\t\t\t\tthis.navHeight = e.height + e.statusBarHeight\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 加载新闻列表\r\n\t\t\tasync loadNewsList(isLoadMore = false) {\r\n\t\t\t\tif (this.loading) return\r\n\t\t\t\t\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst params = {\r\n\t\t\t\t\t\tpageNum: isLoadMore ? this.pageNum : 1,\r\n\t\t\t\t\t\tpageSize: this.pageSize,\r\n\t\t\t\t\t\ttitle: this.searchTitle\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst response = await getNewsList(params)\r\n\t\t\t\t\tconsole.log('API响应数据:', response)\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (response.code === 200) {\r\n\t\t\t\t\t\t// 根据实际API响应结构处理数据\r\n\t\t\t\t\t\tlet newsData = []\r\n\t\t\t\t\t\tlet totalCount = 0\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (response.rows) {\r\n\t\t\t\t\t\t\t// 新的API响应格式：数据直接在根级别\r\n\t\t\t\t\t\t\tnewsData = response.rows\r\n\t\t\t\t\t\t\ttotalCount = response.total || 0\r\n\t\t\t\t\t\t} else if (response.data) {\r\n\t\t\t\t\t\t\t// 兼容旧格式：数据在data字段下\r\n\t\t\t\t\t\t\tif (response.data.rows) {\r\n\t\t\t\t\t\t\t\tnewsData = response.data.rows\r\n\t\t\t\t\t\t\t\ttotalCount = response.data.total || 0\r\n\t\t\t\t\t\t\t} else if (Array.isArray(response.data)) {\r\n\t\t\t\t\t\t\t\tnewsData = response.data\r\n\t\t\t\t\t\t\t\ttotalCount = response.data.length\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tnewsData = [response.data]\r\n\t\t\t\t\t\t\t\ttotalCount = 1\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (isLoadMore) {\r\n\t\t\t\t\t\t\tthis.newsList = [...this.newsList, ...newsData]\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.newsList = newsData\r\n\t\t\t\t\t\t\tthis.pageNum = 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.total = totalCount\r\n\t\t\t\t\t\tthis.hasMore = this.newsList.length < totalCount\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (isLoadMore) {\r\n\t\t\t\t\t\t\tthis.pageNum++\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: response.msg || '获取新闻列表失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('加载新闻列表失败:', error)\r\n\t\t\t\t\tconsole.error('错误详情:', {\r\n\t\t\t\t\t\tmessage: error.message,\r\n\t\t\t\t\t\tstack: error.stack,\r\n\t\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\tpageNum: isLoadMore ? this.pageNum : 1,\r\n\t\t\t\t\t\t\tpageSize: this.pageSize,\r\n\t\t\t\t\t\t\ttitle: this.searchTitle\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 如果是网络错误，提供更具体的提示\r\n\t\t\t\t\tlet errorMessage = '网络错误，请稍后重试'\r\n\t\t\t\t\tif (error.message && error.message.includes('timeout')) {\r\n\t\t\t\t\t\terrorMessage = '请求超时，请检查网络连接'\r\n\t\t\t\t\t} else if (error.message && error.message.includes('Network Error')) {\r\n\t\t\t\t\t\terrorMessage = '网络连接失败，请检查网络设置'\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: errorMessage,\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t})\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 搜索新闻\r\n\t\t\thandleSearch() {\r\n\t\t\t\tthis.pageNum = 1\r\n\t\t\t\tthis.hasMore = true\r\n\t\t\t\tthis.loadNewsList()\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 刷新数据\r\n\t\t\thandleRefresh() {\r\n\t\t\t\tthis.pageNum = 1\r\n\t\t\t\tthis.hasMore = true\r\n\t\t\t\tthis.loadNewsList()\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 加载更多\r\n\t\t\tloadMore() {\r\n\t\t\t\tif (this.hasMore && !this.loading) {\r\n\t\t\t\t\tthis.loadNewsList(true)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 点击新闻项\r\n\t\t\thandleNewsClick(newsItem) {\r\n\t\t\t\tconsole.log('点击新闻项:', newsItem)\r\n\t\t\t\t\r\n\t\t\t\tif (!newsItem || !newsItem.id) {\r\n\t\t\t\t\tconsole.error('新闻项数据无效:', newsItem)\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '新闻数据无效',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst detailUrl = `/pages/newsDetailPage/newsDetailPage?id=${newsItem.id}`\r\n\t\t\t\tconsole.log('跳转到新闻详情页面:', detailUrl)\r\n\t\t\t\t\r\n\t\t\t\t// 跳转到新闻详情页面\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: detailUrl,\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tconsole.log('页面跳转成功')\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (error) => {\r\n\t\t\t\t\t\tconsole.error('页面跳转失败:', error)\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '页面跳转失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 导出新闻列表\r\n\t\t\tasync handleExportNews() {\r\n\t\t\t\tlet params = null // 在函数顶层定义，避免作用域问题\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: '正在导出...'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 尝试不同的导出方式来避免路由冲突\r\n\t\t\t\t\tparams = {}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 只在有搜索条件时才添加参数\r\n\t\t\t\t\tif (this.searchTitle && this.searchTitle.trim()) {\r\n\t\t\t\t\t\tparams.title = this.searchTitle.trim()\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log('导出参数:', params)\r\n\t\t\t\t\tconsole.log('完整导出URL:', `${this.$config?.baseUrl || 'http://10.155.10.148:8090/prod-api'}/core/news/export`)\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst response = await exportNewsList(params)\r\n\t\t\t\t\tconsole.log('导出API响应:', response)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 检查响应是否为文件数据\r\n\t\t\t\t\tif (typeof response === 'string' && (response.startsWith('PK') || response.includes('xlsx') || response.includes('xls'))) {\r\n\t\t\t\t\t\t// 响应是文件数据，表示导出成功\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '导出成功，文件已生成',\r\n\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 在小程序中，我们可以提示用户文件已生成\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '导出完成',\r\n\t\t\t\t\t\t\t\tcontent: '新闻列表已成功导出。由于小程序限制，请联系管理员获取导出文件。',\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t\tconfirmText: '知道了'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}, 1500)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log('导出文件数据长度:', response.length)\r\n\t\t\t\t\t} else if (response && response.code === 200) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '导出成功',\r\n\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tconsole.log('导出数据:', response.data)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.error('导出失败，响应:', response)\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: response?.msg || '导出失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('导出新闻列表异常:', error)\r\n\t\t\t\t\tconsole.error('错误详情:', {\r\n\t\t\t\t\t\tmessage: error.message,\r\n\t\t\t\t\t\tstack: error.stack,\r\n\t\t\t\t\t\tparams: params,\r\n\t\t\t\t\t\tapiUrl: '/core/news/export'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet errorMessage = '导出失败，请稍后重试'\r\n\t\t\t\t\tif (error === '500' || (error.message && error.message.includes('500'))) {\r\n\t\t\t\t\t\terrorMessage = '服务器内部错误，可能是路由配置问题'\r\n\t\t\t\t\t} else if (error.message && error.message.includes('timeout')) {\r\n\t\t\t\t\t\terrorMessage = '导出超时，请稍后重试'\r\n\t\t\t\t\t} else if (error.message && error.message.includes('Long')) {\r\n\t\t\t\t\t\terrorMessage = '后端接口参数类型错误，请联系管理员'\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: errorMessage,\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t})\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 格式化时间\r\n\t\t\tformatTime(timeString) {\r\n\t\t\t\tif (!timeString) return ''\r\n\t\t\t\t\r\n\t\t\t\tconst date = new Date(timeString)\r\n\t\t\t\tconst year = date.getFullYear()\r\n\t\t\t\tconst month = String(date.getMonth() + 1).padStart(2, '0')\r\n\t\t\t\tconst day = String(date.getDate()).padStart(2, '0')\r\n\t\t\t\tconst hours = String(date.getHours()).padStart(2, '0')\r\n\t\t\t\tconst minutes = String(date.getMinutes()).padStart(2, '0')\r\n\t\t\t\t\r\n\t\t\t\treturn `${year}-${month}-${day} ${hours}:${minutes}`\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 处理图片URL\r\n\t\t\tgetImageUrl(imagePath) {\r\n\t\t\t\tif (!imagePath) return ''\r\n\t\t\t\t\r\n\t\t\t\t// 如果已经是完整的URL，直接返回\r\n\t\t\t\tif (imagePath.startsWith('http://') || imagePath.startsWith('https://')) {\r\n\t\t\t\t\treturn imagePath\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 如果是相对路径，拼接服务器地址\r\n\t\t\t\tconst baseUrl = 'http://10.155.10.148:8090'\r\n\t\t\t\treturn baseUrl + imagePath\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.news-page {\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tmin-height: 100vh;\r\n\t}\r\n\t\r\n\t.content-area {\r\n\t\tpadding: 0 15px;\r\n\t}\r\n\t\r\n\t/* 搜索栏样式 */\r\n\t.search-section {\r\n\t\tmargin: 15px 0;\r\n\t}\r\n\t\r\n\t.search-bar {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 8px;\r\n\t\tpadding: 0 15px;\r\n\t\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n\t}\r\n\t\r\n\t.search-input {\r\n\t\tflex: 1;\r\n\t\theight: 44px;\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #333333;\r\n\t}\r\n\t\r\n\t.search-btn {\r\n\t\twidth: 32px;\r\n\t\theight: 32px;\r\n\t\tbackground-color: #004299;\r\n\t\tborder-radius: 6px;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tmargin-left: 10px;\r\n\t}\r\n\t\r\n\t.search-icon {\r\n\t\twidth: 18px;\r\n\t\theight: 18px;\r\n\t}\r\n\t\r\n\t/* 功能按钮区域 */\r\n\t.action-section {\r\n\t\tdisplay: flex;\r\n\t\tgap: 10px;\r\n\t\tmargin-bottom: 15px;\r\n\t}\r\n\t\r\n\t.action-btn {\r\n\t\tflex: 1;\r\n\t\theight: 44px;\r\n\t\tborder-radius: 8px;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tgap: 8px;\r\n\t}\r\n\t\r\n\t.export-btn {\r\n\t\tbackground-color: #52c41a;\r\n\t}\r\n\t\r\n\t.refresh-btn {\r\n\t\tbackground-color: #1890ff;\r\n\t}\r\n\t\r\n\t.action-icon {\r\n\t\twidth: 18px;\r\n\t\theight: 18px;\r\n\t}\r\n\t\r\n\t.action-text {\r\n\t\tcolor: #ffffff;\r\n\t\tfont-size: 14px;\r\n\t\tfont-weight: 500;\r\n\t}\r\n\t\r\n\t/* 新闻列表样式 */\r\n\t.news-list {\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n\t\r\n\t.news-item {\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 8px;\r\n\t\tmargin-bottom: 10px;\r\n\t\tpadding: 15px;\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-start;\r\n\t\tbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n\t}\r\n\t\r\n\t.news-image {\r\n\t\twidth: 80px;\r\n\t\theight: 60px;\r\n\t\tborder-radius: 6px;\r\n\t\toverflow: hidden;\r\n\t\tmargin-right: 12px;\r\n\t\tflex-shrink: 0;\r\n\t}\r\n\t\r\n\t.news-img {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t\r\n\t.news-content {\r\n\t\tflex: 1;\r\n\t\tmin-width: 0;\r\n\t}\r\n\t\r\n\t.news-content.no-image {\r\n\t\tmargin-right: 12px;\r\n\t}\r\n\t\r\n\t.news-title {\r\n\t\tfont-size: 16px;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: #333333;\r\n\t\tline-height: 1.4;\r\n\t\tmargin-bottom: 8px;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\tdisplay: -webkit-box;\r\n\t\t-webkit-line-clamp: 2;\r\n\t\tline-clamp: 2;\r\n\t\t-webkit-box-orient: vertical;\r\n\t}\r\n\t\r\n\t.news-meta {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 12px;\r\n\t\tmargin-bottom: 6px;\r\n\t}\r\n\t\r\n\t.news-time {\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #999999;\r\n\t}\r\n\t\r\n\t.news-author {\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #666666;\r\n\t}\r\n\t\r\n\t.news-remark {\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #666666;\r\n\t\tline-height: 1.4;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\tdisplay: -webkit-box;\r\n\t\t-webkit-line-clamp: 2;\r\n\t\tline-clamp: 2;\r\n\t\t-webkit-box-orient: vertical;\r\n\t}\r\n\t\r\n\t.news-action {\r\n\t\tflex-shrink: 0;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\twidth: 24px;\r\n\t\theight: 24px;\r\n\t}\r\n\t\r\n\t.action-arrow {\r\n\t\twidth: 16px;\r\n\t\theight: 16px;\r\n\t}\r\n\t\r\n\t/* 加载更多样式 */\r\n\t.load-more {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tmargin: 20px 0;\r\n\t}\r\n\t\r\n\t.load-more-btn {\r\n\t\tpadding: 10px 20px;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 20px;\r\n\t\tborder: 1px solid #d9d9d9;\r\n\t}\r\n\t\r\n\t.load-more-text {\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #666666;\r\n\t}\r\n\t\r\n\t/* 加载中样式 */\r\n\t.loading {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tpadding: 20px;\r\n\t}\r\n\t\r\n\t.loading-text {\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #999999;\r\n\t}\r\n\t\r\n\t/* 暂无数据样式 */\r\n\t.no-data {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tpadding: 60px 20px;\r\n\t}\r\n\t\r\n\t.no-data-icon {\r\n\t\twidth: 64px;\r\n\t\theight: 64px;\r\n\t\tmargin-bottom: 16px;\r\n\t}\r\n\t\r\n\t.no-data-text {\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #999999;\r\n\t}\r\n\t\r\n\t/* SVG图标颜色类 */\r\n\t.svg-icon.svg-white {\r\n\t\tfilter: brightness(0) saturate(100%) invert(100%);\r\n\t}\r\n\t\r\n\t.svg-icon.svg-hint {\r\n\t\tfilter: brightness(0) saturate(100%) invert(60%);\r\n\t}\r\n\t\r\n\t.svg-icon.svg-gray {\r\n\t\tfilter: brightness(0) saturate(100%) invert(60%);\r\n\t}\r\n</style>\r\n","import MiniProgramPage from 'D:/code/cfecer/xiaoyouhui-xiaochengxu/pages/schoolNewsPage/schoolNewsPage.vue'\nwx.createPage(MiniProgramPage)"],"names":["getNewsList","uni","exportNewsList"],"mappings":"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"}