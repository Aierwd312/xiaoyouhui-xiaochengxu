{"version":3,"file":"fui-loadmore.js","sources":["components/firstui/fui-loadmore/fui-loadmore.vue","../../../apps/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovY29kZS9jZmVjZXIveGlhb3lvdWh1aS14aWFvY2hlbmd4dS9jb21wb25lbnRzL2ZpcnN0dWkvZnVpLWxvYWRtb3JlL2Z1aS1sb2FkbW9yZS52dWU"],"sourcesContent":["<template>\r\n\r\n\t<view class=\"fui-loadmore__wrap\" :class=\"['fui-loadmore__'+direction]\" :style=\"{height:height+'rpx'}\">\r\n\t\t<view class=\"fui-loadmore__icon\" ref=\"fui_loadmore\"\r\n\t\t\t:class=\"{'fui-loadmore__border-left':!isNvue && !activeColor}\"\r\n\t\t\t:style=\"{width:iconWidth+'rpx',height:iconWidth+'rpx','border-left-color':getActiveColor,'border-right-color':iconColor,'border-top-color':iconColor,'border-bottom-color':iconColor}\"\r\n\t\t\tv-if=\"!src && state==2\">\r\n\t\t</view>\r\n\t\t<image class=\"fui-loadmore__icon-ani\" ref=\"fui_loadmore\" :src=\"src\"\r\n\t\t\t:style=\"{width:iconWidth+'rpx',height:iconWidth+'rpx'}\" v-if=\"src && state==2\"></image>\r\n\t\t<text :class=\"{'fui-loadmore__text':direction==='col'}\"\r\n\t\t\t:style=\"{color:color,'font-size':size+'rpx','line-height':size+'rpx'}\">{{getStateText(state)}}</text>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t// #ifdef APP-NVUE\r\n\tconst animation = uni.requireNativePlugin('animation');\r\n\t// #endif\r\n\texport default {\r\n\t\tname: \"fui-loadmore\",\r\n\t\tprops: {\r\n\t\t\t//占据高度，单位rx\r\n\t\t\theight: {\r\n\t\t\t\ttype: [Number, String],\r\n\t\t\t\tdefault: 100\r\n\t\t\t},\r\n\t\t\t//1-上拉加载 2-正在加载... 3-没有更多了\r\n\t\t\tstate: {\r\n\t\t\t\ttype: [Number, String],\r\n\t\t\t\tdefault: 2\r\n\t\t\t},\r\n\t\t\tinitText: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"上拉加载\"\r\n\t\t\t},\r\n\t\t\t//提示文字\r\n\t\t\ttext: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"正在加载...\"\r\n\t\t\t},\r\n\t\t\tnoneText: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"没有更多了\"\r\n\t\t\t},\r\n\t\t\t//文字颜色\r\n\t\t\tcolor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"#7F7F7F\"\r\n\t\t\t},\r\n\t\t\t//文字大小，单位rpx\r\n\t\t\tsize: {\r\n\t\t\t\ttype: [Number, String],\r\n\t\t\t\tdefault: 24\r\n\t\t\t},\r\n\t\t\t//loading图标背景色\r\n\t\t\ticonColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"#B2B2B2\"\r\n\t\t\t},\r\n\t\t\t//loading图标高亮部分颜色\r\n\t\t\tactiveColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: \"\"\r\n\t\t\t},\r\n\t\t\t//loading 图标的宽度，单位rpx\r\n\t\t\ticonWidth: {\r\n\t\t\t\ttype: [Number, String],\r\n\t\t\t\t// #ifdef APP-NVUE\r\n\t\t\t\tdefault: 32\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifndef APP-NVUE\r\n\t\t\t\tdefault: 28\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\t//自定义loading图标image路径，若自定义图标则iconColor、activeColor属性失效\r\n\t\t\tsrc: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\t//loading图标和文字排列方向，可取值：col，row\r\n\t\t\tdirection: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'row'\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tstate(newValue, oldValue) {\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t// #ifdef APP-NVUE\r\n\t\t\t\t\tif (newValue == 2) {\r\n\t\t\t\t\t\tthis.stop = false;\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthis._animation()\r\n\t\t\t\t\t\t}, 50)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.stop = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tgetActiveColor() {\r\n\t\t\t\tlet color = this.activeColor;\r\n\t\t\t\t// #ifdef APP-NVUE\r\n\t\t\t\tif (!color || color === true) {\r\n\t\t\t\t\tconst app = uni && uni.$fui && uni.$fui.color;\r\n\t\t\t\t\tcolor = (app && app.primary) || '#465CFF';\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t\treturn color;\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\tlet isNvue = false;\r\n\t\t\t// #ifdef APP-NVUE\r\n\t\t\tisNvue = true;\r\n\t\t\t// #endif\r\n\t\t\treturn {\r\n\t\t\t\tisNvue: isNvue,\r\n\t\t\t\tdeg: 0,\r\n\t\t\t\tstop: false\r\n\t\t\t}\r\n\t\t},\r\n\t\t// #ifdef APP-NVUE\r\n\t\tmounted() {\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.deg += 360;\r\n\t\t\t\t\tthis._animation()\r\n\t\t\t\t}, 50)\r\n\t\t\t})\r\n\t\t},\r\n\t\t// #endif\r\n\t\t// #ifndef VUE3\r\n\t\tbeforeDestroy() {\r\n\t\t\tthis.deg = 0;\r\n\t\t\tthis.stop = true;\r\n\t\t},\r\n\t\t// #endif\r\n\t\t// #ifdef VUE3\r\n\t\tbeforeUnmount() {\r\n\t\t\tthis.deg = 0;\r\n\t\t\tthis.stop = true;\r\n\t\t},\r\n\t\t// #endif\r\n\t\tmethods: {\r\n\t\t\tgetStateText(state) {\r\n\t\t\t\tstate = Number(state)\r\n\t\t\t\treturn [this.initText, this.text, this.noneText][state - 1]\r\n\t\t\t},\r\n\t\t\t// #ifdef APP-NVUE\r\n\t\t\t_animation() {\r\n\t\t\t\tif (!this.$refs['fui_loadmore'] || this.stop) return;\r\n\t\t\t\tanimation.transition(\r\n\t\t\t\t\tthis.$refs['fui_loadmore'].ref, {\r\n\t\t\t\t\t\tstyles: {\r\n\t\t\t\t\t\t\ttransform: `rotate(${this.deg}deg)`\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tduration: 700, //ms\r\n\t\t\t\t\t\ttimingFunction: 'linear',\r\n\t\t\t\t\t\titerationCount: 'infinite',\r\n\t\t\t\t\t\tneedLayout: false,\r\n\t\t\t\t\t\tdelay: 0 //ms\r\n\t\t\t\t\t}, () => {\r\n\t\t\t\t\t\tthis.deg += 360;\r\n\t\t\t\t\t\tthis._animation()\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.fui-loadmore__wrap {\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\t/* #endif */\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.fui-loadmore__col {\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.fui-loadmore__row {\r\n\t\tflex-direction: row;\r\n\t}\r\n\r\n\t.fui-loadmore__icon {\r\n\t\tmargin: 0 6px;\r\n\t\tborder-width: 2px;\r\n\t\tborder-style: solid;\r\n\t\t/* #ifdef APP-NVUE */\r\n\t\tborder-radius: 100px;\r\n\t\t/* #endif */\r\n\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tborder-radius: 50%;\r\n\t\tanimation: fui-rotate 0.7s linear infinite;\r\n\t\t/* #endif */\r\n\t}\r\n\r\n\t.fui-loadmore__icon-ani {\r\n\t\tmargin: 0 6px;\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tdisplay: block;\r\n\t\tanimation: fui-rotate 0.7s linear infinite;\r\n\t\t/* #endif */\r\n\t}\r\n\r\n\t.fui-loadmore__text {\r\n\t\tpadding-top: 16rpx;\r\n\t}\r\n\r\n\t/* #ifndef APP-NVUE */\r\n\t.fui-loadmore__border-left {\r\n\t\tborder-left-color: var(--fui-color-primary, #465CFF) !important;\r\n\t}\r\n\r\n\t@-webkit-keyframes fui-rotate {\r\n\t\t0% {\r\n\t\t\ttransform: rotate(0);\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\ttransform: rotate(360deg);\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes fui-rotate {\r\n\t\t0% {\r\n\t\t\ttransform: rotate(0);\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\ttransform: rotate(360deg);\r\n\t\t}\r\n\t}\r\n\r\n\t/* #endif */\r\n</style>","import Component from 'D:/code/cfecer/xiaoyouhui-xiaochengxu/components/firstui/fui-loadmore/fui-loadmore.vue'\nwx.createComponent(Component)"],"names":[],"mappings":";;AAmBC,MAAK,YAAU;AAAA,EACd,MAAM;AAAA,EACN,OAAO;AAAA;AAAA,IAEN,QAAQ;AAAA,MACP,MAAM,CAAC,QAAQ,MAAM;AAAA,MACrB,SAAS;AAAA,IACT;AAAA;AAAA,IAED,OAAO;AAAA,MACN,MAAM,CAAC,QAAQ,MAAM;AAAA,MACrB,SAAS;AAAA,IACT;AAAA,IACD,UAAU;AAAA,MACT,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA;AAAA,IAED,MAAM;AAAA,MACL,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA,IACD,UAAU;AAAA,MACT,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA;AAAA,IAED,OAAO;AAAA,MACN,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA;AAAA,IAED,MAAM;AAAA,MACL,MAAM,CAAC,QAAQ,MAAM;AAAA,MACrB,SAAS;AAAA,IACT;AAAA;AAAA,IAED,WAAW;AAAA,MACV,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA;AAAA,IAED,aAAa;AAAA,MACZ,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA;AAAA,IAED,WAAW;AAAA,MACV,MAAM,CAAC,QAAQ,MAAM;AAAA,MAKrB,SAAS;AAAA,IAET;AAAA;AAAA,IAED,KAAK;AAAA,MACJ,MAAM;AAAA,MACN,SAAS;AAAA,IACT;AAAA;AAAA,IAED,WAAW;AAAA,MACV,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA,EACA;AAAA,EACD,OAAO;AAAA,IACN,MAAM,UAAU,UAAU;AACzB,WAAK,UAAU,MAAM;AAAA,OAWpB;AAAA,IACF;AAAA,EACA;AAAA,EACD,UAAU;AAAA,IACT,iBAAiB;AAChB,UAAI,QAAQ,KAAK;AAOjB,aAAO;AAAA,IACR;AAAA,EACA;AAAA,EACD,OAAO;AACN,QAAI,SAAS;AAIb,WAAO;AAAA,MACN;AAAA,MACA,KAAK;AAAA,MACL,MAAM;AAAA,IACP;AAAA,EACA;AAAA,EAkBD,gBAAgB;AACf,SAAK,MAAM;AACX,SAAK,OAAO;AAAA,EACZ;AAAA,EAED,SAAS;AAAA,IACR,aAAa,OAAO;AACnB,cAAQ,OAAO,KAAK;AACpB,aAAO,CAAC,KAAK,UAAU,KAAK,MAAM,KAAK,QAAQ,EAAE,QAAQ,CAAC;AAAA,IAC1D;AAAA,EAqBF;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5KD,GAAG,gBAAgB,SAAS;"}