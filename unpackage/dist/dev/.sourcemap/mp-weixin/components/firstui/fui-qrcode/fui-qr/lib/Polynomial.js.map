{"version":3,"file":"Polynomial.js","sources":["components/firstui/fui-qrcode/fui-qr/lib/Polynomial.js"],"sourcesContent":["\r\nimport math from './math.js'\r\n\r\nfunction QRPolynomial(num, shift) {\r\n\r\n\tif (num.length == undefined) {\r\n\t\tthrow new Error(num.length + \"/\" + shift);\r\n\t}\r\n\r\n\tvar offset = 0;\r\n\r\n\twhile (offset < num.length && num[offset] == 0) {\r\n\t\toffset++;\r\n\t}\r\n\r\n\tthis.num = new Array(num.length - offset + shift);\r\n\tfor (var i = 0; i < num.length - offset; i++) {\r\n\t\tthis.num[i] = num[i + offset];\r\n\t}\r\n}\r\n\r\nQRPolynomial.prototype = {\r\n\r\n\tget : function(index) {\r\n\t\treturn this.num[index];\r\n\t},\r\n\r\n\tgetLength : function() {\r\n\t\treturn this.num.length;\r\n\t},\r\n\r\n\tmultiply : function(e) {\r\n\r\n\t\tvar num = new Array(this.getLength() + e.getLength() - 1);\r\n\r\n\t\tfor (var i = 0; i < this.getLength(); i++) {\r\n\t\t\tfor (var j = 0; j < e.getLength(); j++) {\r\n\t\t\t\tnum[i + j] ^= math.gexp(math.glog(this.get(i) ) + math.glog(e.get(j) ) );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn new QRPolynomial(num, 0);\r\n\t},\r\n\r\n\tmod : function(e) {\r\n\r\n\t\tif (this.getLength() - e.getLength() < 0) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tvar ratio = math.glog(this.get(0) ) - math.glog(e.get(0) );\r\n\r\n\t\tvar num = new Array(this.getLength() );\r\n\r\n\t\tfor (var i = 0; i < this.getLength(); i++) {\r\n\t\t\tnum[i] = this.get(i);\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < e.getLength(); i++) {\r\n\t\t\tnum[i] ^= math.gexp(math.glog(e.get(i) ) + ratio);\r\n\t\t}\r\n\r\n\t\t// recursive call\r\n\t\treturn new QRPolynomial(num, 0).mod(e);\r\n\t}\r\n};\r\n\r\nexport default QRPolynomial;"],"names":["math"],"mappings":";;AAGA,SAAS,aAAa,KAAK,OAAO;AAEjC,MAAI,IAAI,UAAU,QAAW;AAC5B,UAAM,IAAI,MAAM,IAAI,SAAS,MAAM,KAAK;AAAA,EACxC;AAED,MAAI,SAAS;AAEb,SAAO,SAAS,IAAI,UAAU,IAAI,MAAM,KAAK,GAAG;AAC/C;AAAA,EACA;AAED,OAAK,MAAM,IAAI,MAAM,IAAI,SAAS,SAAS,KAAK;AAChD,WAAS,IAAI,GAAG,IAAI,IAAI,SAAS,QAAQ,KAAK;AAC7C,SAAK,IAAI,CAAC,IAAI,IAAI,IAAI,MAAM;AAAA,EAC5B;AACF;AAEA,aAAa,YAAY;AAAA,EAExB,KAAM,SAAS,OAAO;AACrB,WAAO,KAAK,IAAI,KAAK;AAAA,EACrB;AAAA,EAED,WAAY,WAAW;AACtB,WAAO,KAAK,IAAI;AAAA,EAChB;AAAA,EAED,UAAW,SAAS,GAAG;AAEtB,QAAI,MAAM,IAAI,MAAM,KAAK,UAAW,IAAG,EAAE,cAAc,CAAC;AAExD,aAAS,IAAI,GAAG,IAAI,KAAK,UAAS,GAAI,KAAK;AAC1C,eAAS,IAAI,GAAG,IAAI,EAAE,UAAS,GAAI,KAAK;AACvC,YAAI,IAAI,CAAC,KAAKA,4CAAI,OAAC,KAAKA,4CAAAA,OAAK,KAAK,KAAK,IAAI,CAAC,CAAC,IAAKA,4CAAAA,OAAK,KAAK,EAAE,IAAI,CAAC,CAAC;MACpE;AAAA,IACD;AAED,WAAO,IAAI,aAAa,KAAK,CAAC;AAAA,EAC9B;AAAA,EAED,KAAM,SAAS,GAAG;AAEjB,QAAI,KAAK,UAAW,IAAG,EAAE,UAAS,IAAK,GAAG;AACzC,aAAO;AAAA,IACP;AAED,QAAI,QAAQA,4CAAI,OAAC,KAAK,KAAK,IAAI,CAAC,KAAMA,4CAAAA,OAAK,KAAK,EAAE,IAAI,CAAC,CAAC;AAExD,QAAI,MAAM,IAAI,MAAM,KAAK,UAAW,CAAA;AAEpC,aAAS,IAAI,GAAG,IAAI,KAAK,UAAS,GAAI,KAAK;AAC1C,UAAI,CAAC,IAAI,KAAK,IAAI,CAAC;AAAA,IACnB;AAED,aAAS,IAAI,GAAG,IAAI,EAAE,UAAS,GAAI,KAAK;AACvC,UAAI,CAAC,KAAKA,4CAAI,OAAC,KAAKA,4CAAI,OAAC,KAAK,EAAE,IAAI,CAAC,CAAG,IAAG,KAAK;AAAA,IAChD;AAGD,WAAO,IAAI,aAAa,KAAK,CAAC,EAAE,IAAI,CAAC;AAAA,EACrC;AACF;;"}