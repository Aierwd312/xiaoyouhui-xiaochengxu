{"version":3,"file":"fui-actionsheet.js","sources":["components/firstui/fui-actionsheet/fui-actionsheet.vue","../../../../Program Files/HBuilderX.4.76.2025082103/plugins/uniapp-cli-vite/uniComponent:/RDovUHJvamVjdHMvWEJ1aWRlci_moKHlj4vkvJoveGlhb3lvdWh1aS14aWFvY2hlbmd4dS9jb21wb25lbnRzL2ZpcnN0dWkvZnVpLWFjdGlvbnNoZWV0L2Z1aS1hY3Rpb25zaGVldC52dWU"],"sourcesContent":["<template>\n\t<!---->\n\t<view @touchmove.stop.prevent=\"stop\" v-if=\"isShow || !isNvue\">\n\t\t<view class=\"fui-actionsheet__mask\" :class=\"{'fui-actionsheet__mask-show':show}\" ref=\"fui_asm_ani\"\n\t\t\t@tap=\"handleClickMask\" :style=\"getStyle\"></view>\n\t\t<view class=\"fui-actionsheet__wrap\"\n\t\t\t:class=\"{'fui-actionsheet__show':show,'fui-actionsheet__radius':radius,'fui-as__bg-light':theme==='light','fui-as__bg-dark':theme==='dark'}\"\n\t\t\tref=\"fui_as_ani\" :style=\"{zIndex:zIndex}\">\n\t\t\t<text class=\"fui-actionsheet__tips\"\n\t\t\t\t:class=\"{'fui-actionsheet__radius':radius,'fui-as__btn-light':theme==='light','fui-as__btn-dark':theme==='dark'}\"\n\t\t\t\t:style=\"{fontSize:size+'rpx',color:color}\" v-if=\"tips\">{{tips}}</text>\n\t\t\t<view :class=\"{'fui-actionsheet__operate-box':isCancel}\">\n\t\t\t\t<text class=\"fui-actionsheet__btn\"\n\t\t\t\t\t:style=\"{color:theme==='dark'?(item.darkColor || itemDarkColor):(item.color || itemColor),fontSize:(item.size || itemSize)+'rpx'}\"\n\t\t\t\t\t:class=\"{'fui-actionsheet__btn-last':!isCancel && index==vals.length-1,'fui-as__safe-weex':!isCancel && index==vals.length-1 && iphoneX && safeArea,'fui-actionsheet__radius':radius && !tips && index===0,'fui-as__divider-light':(index!==0 || tips) && theme==='light','fui-as__divider-dark':(index!==0 || tips) && theme==='dark' ,'fui-as__btn-light':theme==='light','fui-as__btn-dark':theme==='dark'}\"\n\t\t\t\t\tv-for=\"(item,index) in vals\" :key=\"index\" @tap=\"handleClickItem(index)\">{{item[textKey]}}</text>\n\t\t\t</view>\n\t\t\t<text :style=\"{color:theme==='dark'?itemDarkColor:itemColor,fontSize:(cancelSize || itemSize)+'rpx'}\"\n\t\t\t\tclass=\"fui-actionsheet__btn fui-actionsheet__cancel\"\n\t\t\t\t:class=\"{'fui-as__safe-weex':iphoneX && safeArea,'fui-as__btn-light':theme==='light','fui-as__btn-dark':theme==='dark'}\"\n\t\t\t\tv-if=\"isCancel\" @tap=\"handleClickCancel\">取消</text>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\t// #ifdef APP-NVUE\n\tconst animation = uni.requireNativePlugin('animation');\n\t// #endif\n\texport default {\n\t\tname: \"fui-actionsheet\",\n\t\temits: ['click', 'cancel'],\n\t\tprops: {\n\t\t\t//是否显示操作菜单\n\t\t\tshow: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false\n\t\t\t},\n\t\t\t//菜单按钮数组，可自定义文本颜色\n\t\t\titemList: {\n\t\t\t\ttype: Array,\n\t\t\t\tdefault () {\n\t\t\t\t\treturn []\n\t\t\t\t}\n\t\t\t},\n\t\t\ttextKey: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: 'text'\n\t\t\t},\n\t\t\t//菜单按钮字体大小 rpx\n\t\t\titemSize: {\n\t\t\t\ttype: [Number, String],\n\t\t\t\tdefault: 32\n\t\t\t},\n\t\t\t//v2.4.0+\n\t\t\titemColor: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: '#181818'\n\t\t\t},\n\t\t\t//v2.4.0+\n\t\t\titemDarkColor: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: '#D1D1D1'\n\t\t\t},\n\t\t\t//提示信息\n\t\t\ttips: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: \"\"\n\t\t\t},\n\t\t\t//提示信息文本颜色\n\t\t\tcolor: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: \"#7F7F7F\"\n\t\t\t},\n\t\t\t//提示文字大小 rpx\n\t\t\tsize: {\n\t\t\t\ttype: [Number, String],\n\t\t\t\tdefault: 26\n\t\t\t},\n\t\t\t//是否需要圆角\n\t\t\tradius: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: true\n\t\t\t},\n\t\t\t//是否需要取消按钮\n\t\t\tisCancel: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: true\n\t\t\t},\n\t\t\t//v2.4.0+\n\t\t\tcancelSize: {\n\t\t\t\ttype: [Number, String],\n\t\t\t\tdefault: 32\n\t\t\t},\n\t\t\t//light/dark\n\t\t\ttheme: {\n\t\t\t\ttype: String,\n\t\t\t\tdefault: 'light'\n\t\t\t},\n\t\t\t//点击遮罩 是否可关闭\n\t\t\tmaskClosable: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: false\n\t\t\t},\n\t\t\tzIndex: {\n\t\t\t\ttype: [Number, String],\n\t\t\t\tdefault: 996\n\t\t\t},\n\t\t\t//是否适配底部安全区\n\t\t\tsafeArea: {\n\t\t\t\ttype: Boolean,\n\t\t\t\tdefault: true\n\t\t\t}\n\t\t},\n\t\tdata() {\n\t\t\tlet isNvue = false;\n\t\t\t// #ifdef APP-NVUE\n\t\t\tisNvue = true;\n\t\t\t// #endif\n\t\t\treturn {\n\t\t\t\tiphoneX: false,\n\t\t\t\tvals: [],\n\t\t\t\tisNvue: isNvue,\n\t\t\t\tisShow: false\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tgetStyle() {\n\t\t\t\treturn `z-index:${Number(this.zIndex)-10};`\n\t\t\t}\n\t\t},\n\t\twatch: {\n\t\t\t// #ifdef APP-NVUE\n\t\t\tshow: {\n\t\t\t\thandler(newVal) {\n\t\t\t\t\tif (newVal) {\n\t\t\t\t\t\tthis.open();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.close();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\timmediate: true\n\t\t\t},\n\t\t\t// #endif\n\t\t\titemList(newVal) {\n\t\t\t\tthis.initData(newVal)\n\t\t\t}\n\t\t},\n\t\tcreated() {\n\t\t\t// #ifdef APP-NVUE || MP-TOUTIAO\n\t\t\tthis.iphoneX = this.isPhoneX();\n\t\t\t// #endif\n\t\t\tthis.initData(this.itemList)\n\t\t},\n\t\tmethods: {\n\t\t\tinitData(vals) {\n\t\t\t\tif (vals && vals.length > 0) {\n\t\t\t\t\tif (typeof vals[0] !== 'object') {\n\t\t\t\t\t\tvals = vals.map(item => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t[this.textKey]: item\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tthis.vals = vals;\n\t\t\t\t}\n\t\t\t},\n\t\t\thandleClickMask() {\n\t\t\t\tif (!this.maskClosable) return;\n\t\t\t\tthis.handleClickCancel();\n\t\t\t},\n\t\t\thandleClickItem(index) {\n\t\t\t\tif (!this.show) return;\n\t\t\t\tthis.$emit('click', {\n\t\t\t\t\tindex: index,\n\t\t\t\t\t...this.vals[index]\n\t\t\t\t});\n\t\t\t},\n\t\t\thandleClickCancel() {\n\t\t\t\tthis.$emit('cancel');\n\t\t\t},\n\t\t\t// #ifdef APP-NVUE\n\t\t\topen() {\n\t\t\t\tthis.isShow = true;\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis._animation(true);\n\t\t\t\t\t}, 50);\n\t\t\t\t})\n\t\t\t},\n\t\t\tclose() {\n\t\t\t\tthis._animation(false);\n\t\t\t},\n\t\t\t_animation(type) {\n\t\t\t\tif (!this.$refs['fui_asm_ani'] || !this.$refs['fui_as_ani']) return;\n\t\t\t\tlet styles = {\n\t\t\t\t\ttransform: `translateY(${type ? '0' : '100%'})`\n\t\t\t\t}\n\t\t\t\tanimation.transition(\n\t\t\t\t\tthis.$refs['fui_asm_ani'].ref, {\n\t\t\t\t\t\tstyles: {\n\t\t\t\t\t\t\topacity: type ? 1 : 0\n\t\t\t\t\t\t},\n\t\t\t\t\t\tduration: 250,\n\t\t\t\t\t\ttimingFunction: 'ease-in-out',\n\t\t\t\t\t\tneedLayout: false,\n\t\t\t\t\t\tdelay: 0 //ms\n\t\t\t\t\t},\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\tanimation.transition(\n\t\t\t\t\tthis.$refs['fui_as_ani'].ref, {\n\t\t\t\t\t\tstyles,\n\t\t\t\t\t\tduration: 250,\n\t\t\t\t\t\ttimingFunction: 'ease-in-out',\n\t\t\t\t\t\tneedLayout: false,\n\t\t\t\t\t\tdelay: 0 //ms\n\t\t\t\t\t},\n\t\t\t\t\t() => {\n\t\t\t\t\t\tif (!type) {\n\t\t\t\t\t\t\tthis.isShow = false\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\t\t\t// #endif\n\t\t\t// #ifdef APP-NVUE || MP-TOUTIAO\n\t\t\tisPhoneX() {\n\t\t\t\tif (!this.safeArea) return false;\n\t\t\t\t//34px\n\t\t\t\tconst res = uni.getSystemInfoSync();\n\t\t\t\tlet iphonex = false;\n\t\t\t\tlet models = ['iphonex', 'iphonexr', 'iphonexsmax']\n\t\t\t\tfor (let i = 11; i < 20; i++) {\n\t\t\t\t\tmodels.push(`iphone${i}`)\n\t\t\t\t\tmodels.push(`iphone${i}mini`)\n\t\t\t\t\tmodels.push(`iphone${i}pro`)\n\t\t\t\t\tmodels.push(`iphone${i}promax`)\n\t\t\t\t}\n\t\t\t\tconst model = res.model.replace(/\\s/g, \"\").toLowerCase()\n\t\t\t\tconst newModel = model.split('<')[0]\n\t\t\t\tif (models.includes(model) || models.includes(newModel) || (res.safeAreaInsets && res.safeAreaInsets\n\t\t\t\t\t\t.bottom > 0)) {\n\t\t\t\t\tiphonex = true;\n\t\t\t\t}\n\t\t\t\treturn iphonex;\n\t\t\t},\n\t\t\t// #endif\n\t\t\tstop() {}\n\t\t}\n\t}\n</script>\n\n<style scoped>\n\t.fui-actionsheet__wrap {\n\t\t/* #ifndef APP-NVUE */\n\t\twidth: 100%;\n\t\tvisibility: hidden;\n\t\tmin-height: 100rpx;\n\t\t/* #endif */\n\t\tposition: fixed;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\t/* #ifndef APP-NVUE */\n\t\ttransform: translate3d(0, 100%, 0);\n\t\ttransition: all 0.25s ease-in-out;\n\t\t/* #endif */\n\t\t/* #ifdef APP-NVUE */\n\t\ttransform: translateY(100%);\n\t\t/* #endif */\n\t\ttransform-origin: center center;\n\t}\n\n\t.fui-as__bg-light {\n\t\tbackground-color: #F8F8F8;\n\t}\n\n\t.fui-as__bg-dark {\n\t\tbackground-color: #111111;\n\t}\n\n\t.fui-actionsheet__radius {\n\t\tborder-top-left-radius: 24rpx;\n\t\tborder-top-right-radius: 24rpx;\n\t\t/* #ifndef APP-NVUE */\n\t\toverflow: hidden;\n\t\t/* #endif */\n\t}\n\n\t/* #ifndef APP-NVUE */\n\t.fui-actionsheet__show {\n\t\ttransform: translate3d(0, 0, 0);\n\t\tvisibility: visible;\n\t}\n\n\t/* #endif */\n\n\t.fui-actionsheet__tips {\n\t\t/* #ifndef APP-NVUE */\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tbox-sizing: border-box;\n\t\t/* #endif */\n\t\tflex: 1;\n\t\tpadding: 40rpx 60rpx;\n\t\ttext-align: center;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tfont-weight: normal;\n\t}\n\n\t.fui-as__btn-light {\n\t\tbackground-color: #FFFFFF;\n\t}\n\n\t.fui-as__btn-dark {\n\t\tbackground-color: #222222;\n\t}\n\n\t.fui-actionsheet__operate-box {\n\t\tpadding-bottom: 12rpx;\n\t}\n\n\t.fui-actionsheet__btn {\n\t\t/* #ifndef APP-NVUE */\n\t\twidth: 100%;\n\t\tbox-sizing: content-box;\n\t\t/* #endif */\n\t\theight: 100rpx;\n\t\t/* #ifdef APP-NVUE */\n\t\tline-height: 100rpx;\n\t\tflex: 1;\n\t\t/* #endif */\n\t\t/* #ifndef APP-NVUE */\n\t\tdisplay: flex;\n\t\t/* #endif */\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\ttext-align: center;\n\t\t/* font-size: 32rpx; */\n\t\tfont-weight: normal;\n\t\tposition: relative;\n\t\t/* #ifdef H5 */\n\t\tcursor: pointer;\n\t\t/* #endif */\n\t}\n\n\t.fui-actionsheet__btn:active {\n\t\t/* #ifdef APP-NVUE */\n\t\tbackground-color: rgba(0, 0, 0, 0.2);\n\t\t/* #endif */\n\n\t\t/* #ifndef APP-NVUE */\n\t\tbackground-color: var(--fui-bg-color-hover, rgba(0, 0, 0, 0.2)) !important;\n\t\t/* #endif */\n\t}\n\n\t.fui-actionsheet__btn-last {\n\t\t/* #ifndef APP-NVUE || MP-TOUTIAO */\n\t\tpadding-bottom: constant(safe-area-inset-bottom);\n\t\tpadding-bottom: env(safe-area-inset-bottom);\n\t\t/* #endif */\n\t}\n\n\t/* #ifdef APP-NVUE */\n\t.fui-as__divider-light {\n\t\tborder-top-width: 0.5px;\n\t\tborder-top-style: solid;\n\t\tborder-top-color: #EEEEEE;\n\t}\n\n\t.fui-as__divider-dark {\n\t\tborder-top-width: 0.5px;\n\t\tborder-top-style: solid;\n\t\tborder-top-color: #333;\n\t}\n\n\t/* #endif */\n\n\t/* #ifndef APP-NVUE */\n\n\t.fui-as__divider-light::before {\n\t\tcontent: \" \";\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tright: 0;\n\t\tleft: 0;\n\t\tborder-top: 1px solid var(--fui-color-border, #EEEEEE);\n\t\t-webkit-transform: scaleY(0.5);\n\t\ttransform: scaleY(0.5);\n\t\ttransform-origin: 0 0;\n\t\tz-index: 2;\n\t\tpointer-events: none;\n\t}\n\n\t.fui-as__divider-dark::before {\n\t\tcontent: \" \";\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tright: 0;\n\t\tleft: 0;\n\t\tborder-top: 1px solid #333;\n\t\t-webkit-transform: scaleY(0.5);\n\t\ttransform: scaleY(0.5);\n\t\ttransform-origin: 0 0;\n\t\tz-index: 2;\n\t\tpointer-events: none;\n\t}\n\n\t/* #endif */\n\n\t.fui-actionsheet__cancel {\n\t\t/* #ifndef APP-NVUE */\n\t\tpadding-bottom: constant(safe-area-inset-bottom);\n\t\tpadding-bottom: env(safe-area-inset-bottom);\n\t\t/* #endif */\n\t}\n\n\t/* #ifdef APP-NVUE || MP-TOUTIAO */\n\t.fui-as__safe-weex {\n\t\t/* #ifdef APP-NVUE */\n\t\theight: 168rpx;\n\t\t/* #endif */\n\t\tpadding-bottom: 34px;\n\t}\n\n\t/* #endif */\n\n\t.fui-actionsheet__mask {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\t/* #ifndef APP-NVUE */\n\t\tbackground-color: var(--fui-bg-color-mask, rgba(0, 0, 0, 0.6));\n\t\t/* #endif */\n\n\t\t/* #ifdef APP-NVUE */\n\t\tbackground-color: rgba(0, 0, 0, 0.6);\n\t\t/* #endif */\n\n\t\t/* #ifndef APP-NVUE */\n\t\ttransition: opacity 0.3s ease-in-out;\n\t\topacity: 0;\n\t\tvisibility: hidden;\n\t\t/* #endif */\n\t}\n\n\t.fui-actionsheet__mask-show {\n\t\t/* #ifndef APP-NVUE */\n\t\tvisibility: visible;\n\t\topacity: 1;\n\t\t/* #endif */\n\t}\n</style>","import Component from 'D:/Projects/XBuider/校友会/xiaoyouhui-xiaochengxu/components/firstui/fui-actionsheet/fui-actionsheet.vue'\nwx.createComponent(Component)"],"names":[],"mappings":"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"}